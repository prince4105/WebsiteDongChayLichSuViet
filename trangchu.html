
<!doctype html>
<html lang="vi" data-theme="light">

<head>
	<meta http-equiv="refresh" content="0; url=trangchu.html">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dòng Chảy Lịch Sử Việt Nam - Trang Chủ</title>
    <script src="https://cdn.tailwindcss.com"></script>
 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600;700&family=Praise&display=swap" rel="stylesheet">
    
    <style>
    :root {
      /* === Bảng màu Light Mode === */
      --bg-light: #fdfbf6; /* Be kem */
      --card-light: #ffffff;
      --primary-light: #a12126; /* Đỏ đô đậm */
      --accent-light: #b48c47; /* Vàng đồng */
      --text-light: #3a2e27; /* Nâu đậm */
      --muted-light: #7a6a5f; /* Nâu xám nhạt */
      --border-light: #e5e0db; /* Xám be */
      --shadow-light: 0 12px 35px rgba(90, 70, 58, 0.1); /* Shadow đậm hơn */
      --glass-light: rgba(253, 251, 246, 0.85); /* Nền kính sáng */
      --input-bg-light: #f8f5f2;
      /* Họa tiết vân mây nhẹ */
      --pattern-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23e5e0db' fill-opacity='0.1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 6v4h4V6H6zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zM6 16v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 26v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 36v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 46v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 56v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 66v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 76v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 86v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

      /* === Bảng màu Dark Mode === */
      --bg-dark: #000000; /* Đen tuyền */
      --card-dark: #1a1816; /* Xám đen đậm hơn */
      --primary-dark: var(--accent-light); /* Vàng đồng */
      --accent-dark: #cea86a; /* Vàng đồng sáng hơn */
      --text-dark: #e0daca; /* Be sáng */
      --muted-dark: #9c938a; /* Xám be nhạt */
      --border-dark: #3a3631; /* Nâu xám đậm hơn */
      --shadow-dark: 0 16px 50px rgba(0, 0, 0, 0.5); /* Shadow mạnh hơn */
      --glass-dark: rgba(26, 24, 22, 0.85); /* Nền kính tối */
      --input-bg-dark: #2f2c29;
      --pattern-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%233a3631' fill-opacity='0.1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 6v4h4V6H6zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zm10 0v4h4V6h-4zM6 16v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 26v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 36v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 46v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 56v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 66v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 76v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zM6 86v4h4v-4H6zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4zm10 0v4h4v-4h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

      /* === Thiết lập ban đầu (Light) === */
      --bg: var(--bg-light); --card: var(--card-light); --primary: var(--primary-light); --accent: var(--accent-light);
      --text: var(--text-light); --muted: var(--muted-light); --border: var(--border-light); --shadow: var(--shadow-light);
      --glass-bg: var(--glass-light); --input-bg: var(--input-bg-light); --pattern: var(--pattern-light);

      --radius: 12px; --radius-sm: 8px; --maxw: 1280px; --header-height: 72px;

      /* Font Families */
      --font-body: 'Inter', system-ui, Arial, sans-serif;
      --font-heading: 'EB Garamond', serif;
      --font-display: 'Praise', cursive; /* Font thư pháp ấn tượng */
    }
    [data-theme="dark"]{
      --bg: var(--bg-dark); --card: var(--card-dark); --primary: var(--primary-dark); --accent: var(--accent-dark);
      --text: var(--text-dark); --muted: var(--muted-dark); --border: var(--border-dark); --shadow: var(--shadow-dark);
      --glass-bg: var(--glass-dark); --input-bg: var(--input-bg-dark); --pattern: var(--pattern-dark);
    }
    *, *::before, *::after { box-sizing: border-box; }
    html{scroll-behavior:smooth}
    body{
        margin:0; padding: 0; font-family: var(--font-body); background-color: var(--bg);
        background-image: var(--pattern); color: var(--text); transition: background 0.3s, color 0.3s;
        padding-top: var(--header-height); font-size: 16px; line-height: 1.7; /* Tăng line-height hơn nữa */
        -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    a{color:var(--primary);text-decoration:none; transition: color 0.2s ease-out, opacity 0.2s ease-out;}
    a:hover { color: var(--accent); opacity: 0.85; text-decoration: none;} /* Bỏ gạch chân mặc định */
    img { max-width: 100%; height: auto; display: block; border-radius: var(--radius-sm); }

    .wrap{max-width:var(--maxw); margin:0 auto; padding: 0 40px;} /* Tăng padding wrap */

    /* === Header Cố Định Dạng Kính === */
    .sticky-header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        background: var(--glass-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); /* Blur mạnh hơn */
        border-bottom: 1px solid var(--border); transition: background 0.3s, border 0.3s, box-shadow 0.3s;
        height: var(--header-height); display: flex; align-items: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.03); /* Thêm shadow nhẹ */
    }
     [data-theme="dark"] .sticky-header { box-shadow: 0 4px 15px rgba(0,0,0,0.2); }

    .header-container { display: flex; justify-content: space-between; align-items: center; width: 100%; }
    .header-brand { display: flex; align-items: center; gap: 14px; color: var(--primary); transition: transform 0.2s ease-out;}
    .header-brand:hover { transform: scale(2.03); } /* Hiệu ứng hover logo */
    .main-navigation ul { display: flex; gap: 8px; list-style: none; margin: 0; padding: 0; }
    .main-navigation a {
        display: block; padding: 10px 18px; font-weight: 500; color: var(--text); border-radius: 8px;
        transition: background 0.2s, color 0.2s, transform 0.2s; font-size: 1rem; position: relative;
    }
    .main-navigation a:hover { background: var(--glass); color: var(--primary); transform: translateY(-2px); }
    .main-navigation a.active-page { color: var(--primary); font-weight: 600; background: transparent; }
    .main-navigation a.active-page::after {
        content: ''; position: absolute; bottom: 5px; left: 18px; right: 18px; height: 3px;
        background: var(--primary); border-radius: 1.5px;
        animation: slideIn 0.3s ease-out; /* Hiệu ứng gạch chân */
    }
    @keyframes slideIn { from { width: 0; left: 50%; } to { width: calc(100% - 36px); left: 18px; } }
    [data-theme="dark"] .main-navigation a.active-page { color: var(--primary); }
    [data-theme="dark"] .main-navigation a.active-page::after { background: var(--primary); }

    .header-actions { display: flex; align-items: center; gap: 12px; }
    .icon-btn{
        background: transparent; border: 1px solid var(--border); padding: 12px; /* Lớn hơn */
        border-radius: 10px; color: var(--muted); cursor: pointer;
        transition: all 0.2s ease-out; line-height: 1; display: flex;
        align-items: center; justify-content: center; position: relative;
    }
    .icon-btn:hover { background: var(--glass); border-color: var(--primary); color: var(--primary); transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05);}
    .icon-btn svg { width: 18px; height: 18px; } /* Kích thước icon chuẩn */

    #theme-toggle .theme-icon-dark, #theme-toggle .theme-icon-light { transition: opacity 0.3s; }

    /* Nội dung chính */
    .content-area { padding: 64px 0; } /* Tăng padding */

    /* Page Header */
    .page-header {
        margin-bottom: 48px; text-align: center; position: relative; padding: 20px 0;
    }
     .page-header::before, .page-header::after { /* Đường kẻ trang trí */
        content: ''; position: absolute; left: 50%; width: 100px; height: 1px;
        background: linear-gradient(to right, transparent, var(--accent), transparent);
        transform: translateX(-50%);
    }
    .page-header::before { top: 0; }
    .page-header::after { bottom: 0; }

    h1.page-title{
        margin:0 0 16px 0; color:var(--text); font-family: var(--font-display); /* Font thư pháp */
        font-size: 5rem; /* Rất lớn */ font-weight: 400; /* Thường font thư pháp chỉ có weight 400 */
        line-height: 1.1; letter-spacing: 1px; color: var(--primary);
    }
    .page-subtitle{color:var(--muted); font-size: 1.2rem; max-width: 700px; margin: 0 auto; line-height: 1.8; font-family: var(--font-heading); font-style: italic;}


        
        h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading); color: var(--text); font-weight: 600; line-height: 1.3; }
        .font-display { font-family: var(--font-display); font-weight: 400; }

        /* === THAY ĐỔI: Đồng nhất style cho tiêu đề Section (H2) === */
        .section-title { 
            font-family: var(--font-display); /* Sử dụng font display */
            font-size: 3.5rem; /* Kích thước lớn */ 
            color: var(--primary); 
            font-weight: 400; /* Font Praise/Display thường nhẹ hơn */
            margin-bottom: 1rem;
        }
        .content-card h3.card-title, .content-card h4.card-title, .modal-header h3 { 
            font-family: var(--font-heading); /* Giữ font heading cho các tiêu đề con */
            font-size: 1.5rem;
        }
        #quiz .section-title, #lien-he .section-title { 
            font-size: 3.5rem; 
            font-family: var(--font-display);
            font-weight: 400;
        }
        #quiz h3.section-title { /* H3 trong quiz/bookmark box */
             font-size: 2.5rem;
             font-family: var(--font-display);
             font-weight: 400;
        }
        /* THAY ĐỔI: Chỉnh lại các media query liên quan đến tiêu đề */
        @media (min-width: 768px) { 
            .section-title { font-size: 4rem; } 
            #quiz .section-title, #lien-he .section-title { font-size: 4rem; }
        }
        /* === KẾT THÚC THAY ĐỔI ĐỒNG NHẤT FONT TIÊU ĐỀ === */

        .card-title { font-size: 1.5rem; }
        
        .wrap{max-width:var(--maxw); margin:0 auto; padding: 0 40px;} /* Thêm .wrap */

        /* === Header (Đồng bộ với testt.html) === */
        .sticky-header {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
            background: var(--glass-bg); backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
            border-bottom: 1px solid var(--border); transition: all 0.3s ease-out;
            height: var(--header-height); display: flex; align-items: center;
            box-shadow: 0 5px 25px rgba(0,0,0,0.05);
        }
        [data-theme="dark"] .sticky-header { box-shadow: 0 6px 30px rgba(0,0,0,0.3); }
        .header-container { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .header-brand { display: flex; align-items: center; gap: 16px; color: var(--primary); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);}
        .header-brand:hover { transform: scale(2.03); }
        .header-logo-icon {
            width: 52px; height: 52px; border-radius: 12px;
            background: linear-gradient(145deg, var(--primary-light), #7a1519); color: #fff;
            font-weight: 700; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 8px 20px rgba(var(--primary-rgb), 0.3); transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }
        .header-brand:hover .header-logo-icon { transform: rotate(-10deg) scale(1.1); box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.4); }
        [data-theme="dark"] .header-logo-icon { background: linear-gradient(145deg, var(--accent-dark), var(--accent-light)); color: var(--bg-dark); box-shadow: 0 8px 25px rgba(var(--accent-rgb), 0.35); }
        [data-theme="dark"] .header-brand:hover .header-logo-icon { box-shadow: 0 10px 30px rgba(var(--accent-rgb), 0.45); }
        .header-logo-text { font-family: var(--font-heading); font-size: 1.9rem; font-weight: 700; margin-left: 0; display: none; } /* Giữ ẩn logo text trên mobile nhỏ */
        @media (min-width: 480px) { .header-logo-text { display: block; } }

        .main-navigation ul { display: flex; gap: 8px; list-style: none; margin: 0; padding: 0; }
        .main-navigation a { display: block; padding: 12px 20px; font-weight: 500; color: var(--text); border-radius: 8px; transition: background 0.2s, color 0.2s, transform 0.2s; font-size: 1rem; position: relative; }
        .main-navigation a:hover { background: var(--glass); color: var(--primary); transform: translateY(-2px); }
        .main-navigation a.active-page { color: var(--primary); font-weight: 600; background: transparent; }
        .main-navigation a.active-page::after { content: ''; position: absolute; bottom: 6px; left: 20px; right: 20px; height: 3px; background: var(--primary); border-radius: 1.5px; animation: slideIn 0.35s ease-out; }
        @keyframes slideIn { from { width: 0; left: 50%; } to { width: calc(100% - 40px); left: 20px; } }
        
        /* Custom CSS cho Dòng Thời Gian (Timeline) */
        .timeline-container { position: relative; padding: 40px 0; overflow-x: auto; }
        .timeline-wrapper { position: relative; padding: 150px 0; min-height: 450px; }
        .timeline-line { height: 5px; background: linear-gradient(to right, var(--accent), var(--primary)); width: 150%; min-width: 1000px; position: absolute; top: 50%; transform: translateY(-50%); border-radius: 2.5px; }
        .timeline-point { width: 24px; height: 24px; background-color: var(--primary); border: 5px solid var(--accent); border-radius: 50%; cursor: pointer; transition: all 0.3s ease-out; z-index: 20; position: absolute; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 0 4px var(--card); }
        .timeline-point:hover { transform: translate(-50%, -50%) scale(1.2); background-color: var(--accent); border-color: var(--primary); }
        .timeline-event { width: 260px; padding: 16px; border-radius: var(--radius-sm); position: absolute; transition: all 0.3s ease-out; background-color: var(--card); box-shadow: var(--shadow); z-index: 10; cursor: pointer; border: 1px solid var(--border); }
        .timeline-event:hover { transform: translateY(-5px); box-shadow: 0 20px 45px rgba(var(--text-rgb), 0.15); }
        .timeline-event h3 { font-size: 1.25rem; margin-bottom: 4px; color: var(--text); font-weight: 600;}
        .timeline-event p { font-size: 0.9rem; color: var(--muted); margin: 0; }
        .event-1 { left: 5%; top: 20px; border-top: 4px solid var(--accent); } .point-1 { left: 5%; }
        .event-2 { left: 25%; bottom: 20px; border-bottom: 4px solid var(--primary); } .point-2 { left: 25%; }
        .event-3 { left: 50%; top: 20px; border-top: 4px solid var(--accent); } .point-3 { left: 50%; }
        .event-4 { left: 75%; bottom: 20px; border-bottom: 4px solid var(--primary); } .point-4 { left: 75%; }
        .event-5 { left: 95%; top: 20px; border-top: 4px solid var(--accent); } .point-5 { left: 95%; }

        [data-theme="dark"] .timeline-line { background: linear-gradient(to right, var(--primary), var(--text-dark)); }
        [data-theme="dark"] .timeline-point { background-color: var(--primary); border-color: var(--accent-dark); box-shadow: 0 0 0 4px var(--card-dark); }
        [data-theme="dark"] .timeline-point:hover { background-color: var(--accent-dark); border-color: var(--primary); }
        [data-theme="dark"] .timeline-event { background-color: var(--card-dark); border: 1px solid var(--border-dark); box-shadow: var(--shadow-dark); }
        [data-theme="dark"] .timeline-event:hover { box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5); border-color: var(--primary); }
        [data-theme="dark"] .event-1, [data-theme="dark"] .event-3, [data-theme="dark"] .event-5 { border-top-color: var(--primary); }
        [data-theme="dark"] .event-2, [data-theme="dark"] .event-4 { border-bottom-color: var(--accent-dark); }
        [data-theme="dark"] .timeline-event h3 { color: var(--text-dark); }
        [data-theme="dark"] .timeline-event p { color: var(--muted-dark); }

        @media (max-width: 767px) { .mobile-menu-hidden { display: none; } .timeline-event { width: 200px; } .timeline-wrapper { min-height: 350px; padding: 120px 0; } }

        /* Modal Styles */
        .modal{ position:fixed;inset:0;background:rgba(20, 18, 16, 0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); display:flex;align-items:center;justify-content:center;z-index:1001;display:none; padding: 24px; animation: fadeIn 0.3s ease-out; } .modal-card{ background:var(--card); padding: 40px; border-radius:var(--radius); max-width:700px; width:95%; max-height:90vh; overflow-y:auto; border: 1px solid var(--border); box-shadow: var(--shadow-dark); scrollbar-width: thin; scrollbar-color: var(--muted) var(--card); animation: scaleIn 0.3s ease-out; } .modal-card::-webkit-scrollbar { width: 8px; } .modal-card::-webkit-scrollbar-thumb { background-color: var(--muted); border-radius: 4px; border: 2px solid var(--card);} .modal-header { display:flex;justify-content:space-between;align-items:flex-start;gap:16px; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid var(--border); } .modal-header h3 { margin: 0; font-family: var(--font-heading); font-size: 2.2rem; color: var(--primary); line-height: 1.3; } .close-btn{background:transparent;border:0;font-size:30px;cursor:pointer; color: var(--muted); line-height: 1; padding: 0; transition: color 0.2s, transform 0.2s;} .close-btn:hover { color: var(--primary); transform: rotate(90deg) scale(1.1); } .modal-body { margin-top: 24px; line-height: 1.8; font-size: 1.05rem; color: var(--text); } .modal-body p { color: var(--muted); margin-bottom: 1em; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        /* CTA Button */
        .cta-button { display: inline-block; padding: 14px 32px; border: 2px solid var(--accent); color: var(--accent); font-weight: 600; border-radius: 50px; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease-out; background: transparent; box-shadow: 0 5px 15px rgba(var(--accent-rgb), 0.15); }
        .cta-button:hover { background: var(--accent); color: var(--bg); transform: translateY(-3px) scale(1.03); box-shadow: 0 10px 25px rgba(var(--accent-rgb), 0.3); }
        [data-theme="dark"] .cta-button { border-color: var(--primary); color: var(--primary); box-shadow: 0 5px 15px rgba(var(--primary-rgb), 0.2); }
        [data-theme="dark"] .cta-button:hover { background: var(--primary); color: var(--bg-dark); box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.35); }

        /* Buttons */
        .btn { background: var(--primary); color: #fff; padding: 10px 20px; border-radius: 8px; border:0; font-weight: 600; cursor:pointer; transition: all 0.25s ease-out; display: inline-flex; align-items: center; gap: 8px; font-size: 0.95rem; box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.2); }
        .btn:hover { transform: translateY(-3px); filter: brightness(1.1); box-shadow: 0 8px 20px rgba(var(--primary-rgb), 0.3); }
        [data-theme="dark"] .btn { color: var(--bg-dark); box-shadow: 0 5px 15px rgba(var(--primary-rgb), 0.25); }
        [data-theme="dark"] .btn:hover { box-shadow: 0 8px 25px rgba(var(--primary-rgb), 0.35); }
        .icon-btn{ background: transparent; border: 1px solid var(--border); padding: 12px; border-radius: 10px; color: var(--muted); cursor: pointer; transition: all 0.25s ease-out; line-height: 1; display: flex; align-items: center; justify-content: center; position: relative; }
        .icon-btn:hover { background: var(--glass); border-color: var(--primary); color: var(--primary); transform: translateY(-3px) scale(1.08); box-shadow: 0 6px 18px rgba(0,0,0,0.08);}
        .icon-btn svg { width: 20px; height: 20px; }
        #theme-toggle .theme-icon-dark, #theme-toggle .theme-icon-light { transition: opacity 0.3s, transform 0.3s; }
        #theme-toggle:hover .theme-icon-light { transform: rotate(15deg) scale(1.1); }
        #theme-toggle:hover .theme-icon-dark { transform: rotate(-10deg) scale(1.1); }

        /* Card styles */
        .content-card { background: var(--card); padding: 28px; border-radius: var(--radius); border: 1px solid var(--border); box-shadow: var(--shadow); margin-bottom: 24px; transition: transform 0.3s ease-out, box-shadow 0.3s ease-out; position: relative; overflow: hidden; background-image: var(--pattern); background-blend-mode: overlay; }
        .content-card:hover { transform: translateY(-5px); box-shadow: 0 20px 50px rgba(var(--text-rgb), 0.15); }
        [data-theme="dark"] .content-card { background: var(--card-dark); border-color: var(--border-dark); box-shadow: var(--shadow-dark); }
        [data-theme="dark"] .content-card:hover { box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); border-color: var(--primary); }
        .content-card h3, .content-card h4 { color: var(--text); font-weight: 600; font-size: 1.5rem;}
        .content-card p, .content-card ul { color: var(--muted); }
        .content-card a { font-weight: 500; }
        .content-card img { margin-bottom: 1.5rem; }

        /* Form styles */
        .form-container { background: var(--card); padding: 40px; border-radius: var(--radius); border: 1px solid var(--border); box-shadow: var(--shadow); }
        [data-theme="dark"] .form-container { background: var(--card-dark); border-color: var(--border-dark); }
        .form-container label { display: block; font-weight: 600; color: var(--text); font-size: 0.95rem; margin-bottom: 8px; font-family: var(--font-heading); }
        .form-container input, .form-container textarea { width: 100%; padding: 16px 20px; border-radius: var(--radius-sm); border: 1px solid var(--border); background: var(--input-bg); color: inherit; font-size: 1rem; margin-bottom: 20px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.06); transition: border 0.2s, box-shadow 0.2s; }
        .form-container input:focus, .form-container textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.1), inset 0 1px 3px rgba(0,0,0,0.06); }
        .form-container textarea { min-height: 140px; line-height: 1.7; }
        [data-theme="dark"] .form-container input, [data-theme="dark"] .form-container textarea { border-color: var(--border-dark); background: var(--input-bg-dark); color: var(--text-dark);}
        [data-theme="dark"] .form-container input:focus, [data-theme="dark"] .form-container textarea:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.2), inset 0 1px 3px rgba(0,0,0,0.06); }

        /* Footer */
        footer { margin-top: 80px; padding: 40px 0; border-top: 1px dashed var(--border); color: var(--muted); }
        footer a { color: var(--muted); } footer a:hover { color: var(--primary); }
        [data-theme="dark"] footer { border-top-color: var(--border-dark); color: var(--muted-dark);}
        [data-theme="dark"] footer a { color: var(--muted-dark); } [data-theme="dark"] footer a:hover { color: var(--primary); }


        /* === Thêm wrap class cho container === */
        .container { max-width: var(--maxw); margin-left: auto; margin-right: auto; }
        /* Áp dụng padding của wrap cho container */
        .container { padding: 0 40px; }
        @media (max-width: 768px) { .container { padding: 0 24px; } }
        @media (max-width: 480px) { .container { padding: 0 16px; } }

    </style>
</head>

<body data-theme="light">
<div class="main-layout">
    <header class="sticky-header">
         <a href="trangchu.html" class="header-brand logo-image-mode" title="Dòng Chảy Lịch Sử Việt - Trang Chủ">
  <img src="images/dclsv.png" alt="Logo website" width="196" style="padding-top: 25px;"> </a>
            <nav class="main-navigation" aria-label="Điều hướng chính">
                 <ul>
                    <li><a href="trangchu.html" class="active-page">Trang Chủ</a></li>
                    <li><a href="lichsu.html">Lịch Sử</a></li>
                    <li><a href="dungnuocvagiunuoc.html" >Dựng Nước & Giữ Nước</a></li>
                    <li><a href="vanhoa.html">Văn Hóa</a></li>
                    <li><a href="khotulieu.html" >Tư Liệu</a></li>
                    <li><a href="tintuc.html">Tin Tức</a></li>
                    <li><a href="lienhe.html">Liên Hệ & Góp ý</a></li>
                 </ul>
            </nav>
            <div class="header-actions">
                 <div class="language-switcher">
    <button id="lang-vi" class="lang-btn" data-lang="vi" data-translate-key="langVIE">VIE</button> |
    <button id="lang-en" class="lang-btn" data-lang="en" data-translate-key="langENG">ENG</button>
</div>
                 <button id="theme-toggle" class="icon-btn" title="Chuyển giao diện Sáng/Tối" aria-live="polite">
                 
                     <span class="theme-icon-light" aria-label="Chế độ sáng">☀️</span>
                     <span class="theme-icon-dark hidden" aria-label="Chế độ tối">🌙</span>
                 </button>
                  
            </div>
        
    </header>

<section id="trang-chu" class="relative min-h-screen overflow-hidden text-center flex items-center justify-center text-white">
  <!-- Ảnh nền động -->
  <div id="slider-container" class="absolute inset-0 w-full h-full">
 <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/bdoi.jpg');">
</div>
 <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/dep.jpg');">
</div>
 <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/trongdong.jpg');">
</div>
 <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/depp.jpg');">
</div>
 <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/Văn Lang Âu Lạc.jpeg');">
</div>
    <div class="slide absolute inset-0 bg-cover bg-center opacity-0 transition-all duration-[1500ms]"
         style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('https://i.ytimg.com/vi/dDjK7m7fOxo/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AHUBoAC4AOKAgwIABABGH8gFCgTMA8=&rs=AOn4CLAj4vNMwxjSq49Oo5he4qET6XpiKw');">
    </div>
    <div class="slide absolute inset-0 bg-cover bg-center opacity-0 transition-all duration-[1500ms]"
         style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('https://i.pinimg.com/originals/b0/69/f8/b069f8acf6b50f12b1ad718580718813.gif');">
    </div>
    <div class="slide absolute inset-0 bg-cover bg-center opacity-0 transition-all duration-[1500ms]"
         style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('https://thcslevanthinh.bacninh.edu.vn/upload/63265/fck/27263514/pasted%20image%200.png');">
    </div>
     <div class="slide absolute inset-0 bg-cover bg-center opacity-100 transition-all duration-[1500ms]" 
     style="background-image: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.75)), url('images/deppp.jpg');">
</div>
  </div>

  <!-- Nội dung chữ -->
 <div class="relative z-10 p-6 backdrop-blur-[2px]">
    <h1 class="font-display text-6xl md:text-8xl lg:text-9xl font-bold mb-6 tracking-tight drop-shadow-[0_5px_10px_rgba(0,0,0,0.7)] text-[#fafafae4]" 
        data-translate-key="homeHeroHeading"> Dòng Chảy Lịch Sử Việt
    </h1>
    <p class="text-lg md:text-2xl italic font-light max-w-3xl mx-auto drop-shadow-[0_2px_4px_rgba(0,0,0,0.6)]" 
       data-translate-key="homeHeroSubheading"> Hành trình nghìn năm văn hiến, dựng nước và giữ nước hào hùng của dân tộc Việt Nam.
    </p>
      <a href="#timeline-section" class="cta-button mt-10" 
         data-translate-key="homeHeroCTA"> Khám Phá Dòng Thời Gian
        </a>
  </div>
  <!-- Nút điều hướng -->
  <button id="prevSlide" class="absolute left-6 top-1/2 transform -translate-y-1/2 text-white text-3xl opacity-70 hover:opacity-100">⟨</button>
  <button id="nextSlide" class="absolute right-6 top-1/2 transform -translate-y-1/2 text-white text-3xl opacity-70 hover:opacity-100">⟩</button>
</section>

<script>
  const slides = document.querySelectorAll('#slider-container .slide');
  const nextBtn = document.getElementById('nextSlide');
  const prevBtn = document.getElementById('prevSlide');
  let current = 0;
  let autoSlide;

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.style.opacity = i === index ? "1" : "0";
      slide.style.transform = i === index ? "scale(1.05)" : "scale(1)";
    });
  }

  function nextSlide() {
    current = (current + 1) % slides.length;
    showSlide(current);
  }

  function prevSlideFunc() {
    current = (current - 1 + slides.length) % slides.length;
    showSlide(current);
  }

  nextBtn.addEventListener('click', nextSlide);
  prevBtn.addEventListener('click', prevSlideFunc);

  // Vuốt cảm ứng
  let startX = 0;
  document.getElementById("slider-container").addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
  });
  document.getElementById("slider-container").addEventListener("touchend", e => {
    let diff = e.changedTouches[0].clientX - startX;
    if (Math.abs(diff) > 50) diff < 0 ? nextSlide() : prevSlideFunc();
  });

  // Tự động chạy
  function startAuto() {
    autoSlide = setInterval(nextSlide, 1000);
  }

  function stopAuto() {
    clearInterval(autoSlide);
  }

  document.getElementById("trang-chu").addEventListener("mouseenter", stopAuto);
  document.getElementById("trang-chu").addEventListener("mouseleave", startAuto);

  startAuto();
</script>

             <section id="timeline-section" class="py-20 lg:py-28 bg-[var(--input-bg)] dark:bg-[var(--card-dark)]">
                 <div class="wrap">
                    
                     <h2 class="section-title text-4xl md:text-5xl font-bold mb-6 text-center text-[var(--primary)] dark:text-[var(--primary)]">
                         Các Cột Mốc Vàng Son
                     </h2>
                     <p class="section-subtitle text-center max-w-3xl mx-auto mb-16" style="color: var(--muted); font-size: 1.2rem;">
                         Từ thuở khai hoang đến thời đại mới, mỗi thời kỳ đều ghi dấu những trang sử hào hùng, định hình nên bản sắc và vóc dáng Việt Nam hôm nay.
                     </p>
                     <div class="timeline-container mx-auto max-w-full">
                         <div class="timeline-wrapper">
                             <div class="timeline-line"></div>
                            
                              <div class="timeline-event event-1" data-modal-target="timeline-modal" data-modal-title="Tiền Sử - Âu Lạc" data-modal-content="Thời kỳ này kéo dài từ khoảng thế kỷ 7 TCN đến 111 TCN. Đặc trưng là nền văn minh lúa nước, sự hình thành nhà nước sơ khai Văn Lang và Âu Lạc.">
                                 <h3>Tiền Sử - 111 TCN</h3><p>Văn Lang - Âu Lạc</p>
                             </div> <div class="timeline-point point-1" title="Tiền Sử"></div>
                             <div class="timeline-event event-2" data-modal-target="timeline-modal" data-modal-title="Bắc thuộc (111 TCN - 938 SCN)" data-modal-content="Giai đoạn đấu tranh kiên cường của dân tộc Việt Nam dưới sự đô hộ của các triều đại phương Bắc.">
                                 <h3>111 TCN - 938</h3><p>Thời kỳ Bắc Thuộc</p>
                             </div> <div class="timeline-point point-2" title="Bắc Thuộc"></div>
                             <div class="timeline-event event-3" data-modal-target="timeline-modal" data-modal-title="Đại Việt (938 - 1858)" data-modal-content="Thời kỳ độc lập và hưng thịnh của các triều đại phong kiến Việt Nam như Đinh, Lý, Trần, Lê.">
                                 <h3>938 - 1858</h3><p>Đại Việt</p>
                             </div> <div class="timeline-point point-3" title="Phong Kiến"></div>
                             <div class="timeline-event event-4" data-modal-target="timeline-modal" data-modal-title="Pháp Thuộc & Kháng Chiến (1858 - 1975)" data-modal-content="Giai đoạn mất nước và đấu tranh giải phóng dân tộc chống Pháp và Mỹ, đỉnh cao là chiến thắng 1975.">
                                 <h3>1858 - 1975</h3><p>Kháng Chiến</p>
                             </div> <div class="timeline-point point-5" title="Hiện Đại"></div>
                             <div class="timeline-event event-5" data-modal-target="timeline-modal" data-modal-title="Hiện Đại (1975 - Nay)" data-modal-content="Thời kỳ hòa bình, Đổi mới, phát triển kinh tế và hội nhập quốc tế.">
                                 <h3>1975 - Nay</h3><p>Việt Nam Hiện Đại</p>
                             </div> <div class="timeline-point point-5" title="Hiện Đại"></div>
                         </div>
                     </div>
    
                 </div>
                 
             </section>

             <section id="lich-su" class="py-20 lg:py-28 bg-[var(--bg)] dark:bg-[var(--bg-dark)]">
                 <div class="wrap">
                    
                     <h2 class="section-title text-4xl md:text-5xl font-bold mb-12 text-center text-[var(--primary)] dark:text-[var(--primary)]">Tin Tức & Sự Kiện Mới</h2>
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-8" id="vietnam-today-content">
                         <a href="https://www.youtube.com/watch?v=BTnG3FHSNWk" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]">
                                 <img src="https://sqhx-hanoi.mediacdn.vn/91579363132710912/2025/8/20/nen-tang-so-a80-1755602450-1755672876543-17556728775141532180744.png" alt="Toàn cảnh đại lễ A80" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105">
                                 <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>
                                 <div class="absolute bottom-5 left-5 text-white"> <svg class="w-14 h-14 mb-1 opacity-80 group-hover:opacity-100 transition-opacity duration-300 transform group-hover:scale-110" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg> </div>
                             </div>
                             <div class="p-6">
                                 <h3 class="card-title text-xl font-bold mb-2">Toàn cảnh đại lễ A80</h3>
                                 <p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">80 năm Đất nước độc lập, 80 năm Thủ đô rực rỡ sao vàng.</p>
                             </div>
                         </a>
                          <a href="https://www.youtube.com/watch?v=bp7JBr8D_q4" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://doanthanhnien.vn/Content/uploads/images/133896749252883997_doc%20lap.jpg" alt="Chiến dịch Hồ Chí Minh" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6"><h3 class="card-title text-xl font-bold mb-2">Chiến dịch Hồ Chí Minh</h3><p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">Giải Phóng Miền Nam 30/4 năm 1975.</p></div>
                          </a>
                          <a href="https://www.youtube.com/watch?v=ecaGt5dfxu4/" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://belux.com.vn/Files/239/download/tu-van-qua-tang/49e52a298290aed5aa6d09e1a9eb6e77.jpg" alt="Lịch sử Việt Nam" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6"><h3 class="card-title text-xl font-bold mb-2">Lịch sử Việt Nam</h3><p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">Lịch sử việt nam từ thuở các vua Hùng dựng nước đến nay...</p></div>
                          </a>
                          <a href="https://www.youtube.com/watch?v=cxKnRdHQIm4" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://baolongan.vn/image/news/2024/20240603/images/cover-kl01_1717365181.gif" alt="Tiểu sử chủ tịch Hồ Chí Minh" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6"><h3 class="card-title text-xl font-bold mb-2">Tiểu sử chủ tịch Hồ Chí Minh</h3><p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">Chủ tịch Hồ Chí Minh, là nhà cách mạng vĩ đại của dân tộc Việt Nam...</p></div>
                          </a>
                          <a href="https://www.youtube.com/watch?v=vqvXYvF4Yes" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://cand.com.vn/Files/Image/thanhbinh/2020/01/20/eab955b3-4d93-4419-adab-1551091a17b9.jpg" alt="Thần thoại sử Việt" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6"><h3 class="card-title text-xl font-bold mb-2">Giai thoại Lịch sử Hai Bà Trưng</h3><p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">Giai thoại lịch sử Hai Bà Trưng kể về hai chị em Trưng Trắc và Trưng Nhị...</p></div>
                          </a>
                          <a href="https://www.youtube.com/watch?v=Buon-4vkZAI&list=RDBuon-4vkZAI&start_radio=1" target="_blank" rel="noopener noreferrer" class="content-card group dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" style="padding: 0;">
                             <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://cdn.dribbble.com/userupload/22043650/file/original-28e2e0b7aba63ae6607fa0b1464a8fd6.gif" alt="Thịnh Vượng Việt Nam Sáng Ngời" class="w-full h-60 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6"><h3 class="card-title text-xl font-bold mb-2">Thịnh Vượng Việt Nam Sáng Ngời</h3><p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base">Liên khúc "Thịnh Vượng Việt Nam Sáng Ngời" | Quốc Khánh 2/9</p></div>
                          </a>
                     </div>
                 </div>
             </section>

            <section id="dung-nuoc" class="py-20 lg:py-28 bg-[var(--input-bg)] dark:bg-[var(--card-dark)]">
                 <div class="wrap">
                 
                     <h2 class="section-title text-4xl md:text-5xl font-bold mb-12 text-center text-[var(--primary)] dark:text-[var(--primary)]">Chiến Công Anh Hùng</h2>
                     <div class="grid md:grid-cols-2 gap-8" id="dung-nuoc-content">
                         <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" data-keywords="tran quoc tuan hung dao dai vuong tuong tai">
                             <h3 class="card-title text-3xl font-bold mb-4">Hồ sơ: Hồ Chí Minh</h3>
                             <p class="text-[var(--muted)] dark:text-[var(--muted-dark)] text-base mb-4">
Chủ tịch Hồ Chí Minh (lúc nhỏ tên là Nguyễn Sinh Cung, khi đi học là Nguyễn Tất Thành, trong nhiều năm hoạt động cách mạng lấy tên là Nguyễn Ái Quốc và nhiều bí danh, bút danh khác) sinh ngày 19/5/1890 ở xã Kim Liên, huyện Nam Đàn, tỉnh Nghệ An; mất ngày 2/9/1969 tại Hà Nội.</p>
                             <img src="https://lamdong.gov.vn/sites/congan/bao-ve-nen-tang-tu-tuong-cua-dang/SiteAssets/SitePages/Xuyen-tac-boi-nho-Chu-tich-Ho-Chi-Minh-la-hanh-dong-dang-len-an/27439-bac-ho_20230518191851.jpg" alt="[Hình ảnh chân dung Trần Hưng Đạo]" class="w-full h-auto rounded-lg mt-4 object-cover">
                          
                             <button data-bookmark-id="Trần Hưng Đạo" class="mt-5 text-sm font-semibold text-[var(--primary)] dark:text-[var(--accent-dark)] hover:underline">Thêm vào Yêu thích</button>
                         </div>
                         <div class="space-y-6">
                             <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" data-keywords="hai ba trưng khởi nghĩa nữ tướng">
                                 <h4 class="card-title text-2xl font-bold">Khởi Nghĩa Hai Bà Trưng (40 SCN)</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Lãnh đạo cuộc khởi nghĩa đầu tiên chống lại ách đô hộ của nhà Hán.</p>
                             </div>
                             <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" data-keywords="dien bien phu 1954 giap">
                                 <h4 class="card-title text-2xl font-bold">Chiến dịch Điện Biên Phủ (1954)</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Lừng lẫy năm châu, chấn động địa cầu, kết thúc chế độ thực dân Pháp.</p>
                             </div>
                             <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)]" data-keywords="tong tien cong 1975 mùa xuân">
                                 <h4 class="card-title text-2xl font-bold">Tổng tiến công Mùa Xuân 1975</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Giải phóng miền Nam, thống nhất đất nước.</p>
                             </div>
                         </div>
                     </div>
                      <div class="flex items-center space-x-3 p-3 rounded-full shadow-sm bg-[var(--card)] dark:bg-[var(--card-dark)]">
                               <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-[var(--muted)] dark:text-[var(--muted-dark)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /> </svg>
                               <input type="text" id="search-input" placeholder="Tìm kiếm nhanh..." class="w-full bg-transparent border-none focus:ring-0 text-lg text-[var(--text)] dark:text-[var(--text-dark)] placeholder-[var(--muted)] dark:placeholder-[var(--muted-dark)]" />
                           </div>
                 </div>
            </section>

            <section id="van-hoa" class="py-20 lg:py-28 bg-[var(--bg)] dark:bg-[var(--bg-dark)]">
                       <div class="wrap">
                 
                     <h2 class="section-title text-4xl md:text-5xl font-bold mb-12 text-center text-[var(--primary)] dark:text-[var(--primary)]">Truyền Thống & Văn Hóa Việt</h2>
                     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="van-hoa-content">
                         <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)] group" data-keywords="le hoi den hung phong tuc" style="padding: 0;">
                            <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://tuoitre.bacgiang.gov.vn/upload/105001/20220110/22bc19c264a51c3f22a814497ac18c4020170405082333-4a.jpg" alt="[Hình ảnh Lễ hội]" class="w-full h-48 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6">
                                 <h4 class="card-title text-xl font-bold">Lễ Hội Đền Hùng</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Tín ngưỡng thờ cúng Hùng Vương.</p>
                             </div>
                         </div>
                         <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)] group" data-keywords="tranh đông hồ dan gian nghe thuat" style="padding: 0;">
                            <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://media-cdn-v2.laodong.vn/storage/newsportal/2020/4/6/796111/Tranh-Dong-Ho.jpg?w=800&crop=auto&scale=both" alt="[Hình ảnh Nghệ thuật]" class="w-full h-48 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6">
                                 <h4 class="card-title text-xl font-bold">Tranh Đông Hồ</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Dòng tranh mộc mạc, đậm chất dân gian.</p>
                             </div>
                         </div>
                         <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)] group" data-keywords="am thuc pho dac trung" style="padding: 0;">
                            <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://i0.wp.com/mycogroup.com.vn/wp-content/uploads/2023/05/pho-viet-nam-1.jpg" alt="[Hình ảnh Ẩm thực]" class="w-full h-48 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6">
                                 <h4 class="card-title text-xl font-bold">Phở Việt Nam</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Món ăn quốc hồn quốc túy.</p>
                             </div>
                         </div>
                         <div class="content-card dark:border dark:border-[var(--border-dark)] hover:dark:border-[var(--primary)] group" data-keywords="lang nghe gom bat trang" style="padding: 0;">
                            <div class="relative overflow-hidden rounded-t-[var(--radius)]"><img src="https://static.vinwonders.com/production/lang-gom-bat-trang-top-banner.jpg" alt="[Hình ảnh Làng nghề]" class="w-full h-48 object-cover transition-transform duration-400 ease-out group-hover:scale-105"></div>
                             <div class="p-6">
                                 <h4 class="card-title text-xl font-bold">Làng Gốm Bát Tràng</h4>
                                 <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Nơi lưu giữ nghề gốm sứ cổ truyền.</p>
                             </div>
                         </div>
                     </div>
                 </div>
            </section>

            <section id="tu-lieu" class="py-20 lg:py-28 bg-[var(--input-bg)] dark:bg-[var(--card-dark)]">
                <div class="wrap">
                    <div class="grid md:grid-cols-2 gap-12">
                        <div id="kho-tu-lieu-content">
                            
                            <h2 class="section-title text-4xl font-bold mb-6 text-[var(--primary)] dark:text-[var(--primary)]"> Kho Tư Liệu</h2>
                            <div class="space-y-4">
                                <div class="p-6 bg-[var(--card)] dark:bg-[var(--input-bg-dark)] rounded-lg border border-[var(--border)] dark:border-[var(--border-dark)]" data-keywords="ban do thang long co dai">
                                    <img src="https://36hn.files.wordpress.com/2015/01/be1baa3n-c491e1bb93-4-kc3bd-hie1bb87u-a-2499.jpg?w=550&h=413" alt="">
                                    <h3 class="card-title text-xl font-bold">Bản Đồ Cổ Đại Thăng Long</h3>
                                    <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Tập hợp các bản đồ ghi chép về kinh thành qua các thời kỳ.</p>
                                </div>
                                <div class="p-6 bg-[var(--card)] dark:bg-[var(--input-bg-dark)] rounded-lg border border-[var(--border)] dark:border-[var(--border-dark)]" data-keywords="video ho quy ly cai cach">
                                    <h3 class="card-title text-xl font-bold">Video Tư Liệu Về Cải Cách Hồ Quý Ly</h3>
                                    <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Phim tài liệu ngắn về những thay đổi dưới thời Nhà Hồ.</p>
                                </div>
                            </div>
                            <a href="khotulieu.html"><button class="btn mt-6">Xem Toàn Bộ Thư Viện</button></a>
                            
                        </div>

                        <div id="tin-tuc-content">
                         
                            <h2 class="section-title text-4xl font-bold mb-6 text-[var(--primary)] dark:text-[var(--primary)]"> Tin Tức - Bài Viết Mới</h2>
                            <div class="space-y-4">
                                <article class="p-5 border-b border-[var(--border)] dark:border-[var(--border-dark)]" data-keywords="phuc dung trang phuc nguyen">
                                    <span class="text-xs font-semibold text-white bg-green-500 px-2 py-0.5 rounded-full mr-2">Mới</span>
                                    <a href="#" class="card-title text-xl font-bold hover:text-[var(--accent)] dark:hover:text-[var(--accent)]">Phục dựng trang phục triều Nguyễn qua tranh vẽ</a>
                                    <p class="text-xs mt-1 text-[var(--muted)] dark:text-[var(--muted-dark)]">Ngày 20/10/2025</p>
                                </article>
                                <article class="p-5 border-b border-[var(--border)] dark:border-[var(--border-dark)]" data-keywords="di san the gioi">
                                    <a href="#" class="card-title text-xl font-bold hover:text-[var(--accent)] dark:hover:text-[var(--accent)]">Di sản thế giới tại Việt Nam: Giá trị và thách thức</a>
                                    <p class="text-xs mt-1 text-[var(--muted)] dark:text-[var(--muted-dark)]">Ngày 15/10/2025</p>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="quiz" class="py-20 lg:py-28 bg-[var(--bg)] dark:bg-[var(--bg-dark)]">
                <div class="wrap grid md:grid-cols-3 gap-8">
                    <div class="md:col-span-2 form-container">
                        <h3 class="section-title text-3xl font-bold mb-4 text-[var(--primary)] dark:text-[var(--primary)]">
                            Thử Thách Kiến Thức Lịch Sử
                        </h3>
                        <p class="text-[var(--muted)] dark:text-[var(--muted-dark)] mb-6">Kiểm tra nhanh mức độ hiểu biết của bạn về các sự kiện và nhân vật lịch sử. Phù hợp cho lứa tuổi học sinh, sinh viên.</p>
                        <button id="start-quiz-btn" class="btn"> Bắt đầu Quiz </button>
                    </div>
                    <div class="form-container text-center"> 
                        <h3 class="section-title text-3xl font-bold mb-4 text-[var(--primary)] dark:text-[var(--primary)]">
                            Mục Yêu thích
                        </h3>
                        <p class="text-sm text-[var(--muted)] dark:text-[var(--muted-dark)]">Số lượng mục đã lưu:</p>
                        <div class="text-6xl font-bold mt-2 text-[var(--accent)] dark:text-[var(--primary)]" id="bm-count">0</div>
                        <p class="mt-4 text-xs text-[var(--muted)] dark:text-[var(--muted-dark)]">Dữ liệu được lưu trữ trong trình duyệt của bạn.</p>
                    </div>
                </div>
            </section>

            <section id="lien-he" class="py-20 lg:py-28 bg-[var(--input-bg)] dark:bg-[var(--card-dark)]">
                <div class="wrap max-w-3xl mx-auto">
                   <h2 class="section-title text-4xl md:text-5xl font-bold mb-12 text-[var(--primary)] dark:text-[var(--primary)] text-center">
                        Liên Hệ & Góp Ý
                    </h2>
                    <div class="form-container dark:border dark:border-[var(--border-dark)]">
                        <p class="text-center mb-8 text-[var(--muted)] dark:text-[var(--muted-dark)] font-heading italic text-lg">Mọi đóng góp, tài liệu, hoặc ý kiến xin vui lòng gửi về hòm thư của chúng tôi.</p>
                        <form id="contact-form">
                            <div class="mb-5">
                                <label for="name">Họ tên</label>
                                <input type="text" id="name" name="name" placeholder="Tên của bạn">
                            </div>
                            <div class="mb-5">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" placeholder="email@example.com">
                            </div>
                            <div class="mb-6">
                                <label for="message">Nội dung</label>
                                <textarea id="message" name="message" rows="5" placeholder="Ý kiến đóng góp..."></textarea>
                            </div>
                            <button type="submit" id="submit-btn" class="btn w-full justify-center text-base py-3">Gửi Góp Ý</button>
                        </form>
                    </div>
                </div>
            </section>
         </main>

       <footer class="mt-20 bg-gradient-to-b from-[#2c2c2c] to-[#1a1a1a] text-gray-200 py-12 border-t border-[#c9a94b] relative overflow-hidden">

  <!-- Dòng khẩu hiệu -->
  <div class="text-center mb-10">
    <h2 class="text-2xl md:text-3xl font-extrabold font-heading 
      bg-gradient-to-r from-[#8b0000] via-[#ff0000] to-[#ffd700]
      bg-clip-text text-transparent
      drop-shadow-[0_0_12px_rgba(255,0,0,0.8)]
      animate-pulse">
      🇻🇳 Hoàng Sa, Trường Sa là của Việt Nam 🇻🇳
    </h2>
  </div>

  <!-- Nội dung footer -->
  <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 text-left">

    <!-- Cột 1 -->
    <div>
      <h3 class="text-xl font-semibold text-[#f5d67b] mb-4 font-heading">Dòng Chảy Lịch Sử Việt</h3>
      <p class="text-sm leading-relaxed">
        Hành trình nghìn năm dựng nước và giữ nước của dân tộc Việt Nam – lưu giữ ký ức, khơi dậy niềm tự hào dân tộc.
      </p>
    </div>

    <!-- Cột 2: Liên hệ -->
    <div>
      <h4 class="text-lg font-semibold text-[#f5d67b] mb-3">Liên Hệ</h4>
      <ul class="space-y-2 text-sm">
        <li>
          <i class="fas fa-envelope text-[#f5d67b] mr-2"></i>
          <a href="mailto:gopy@lichsuviet.vn" class="hover:text-[#ff4d4d] transition">gopy@lichsuviet.vn</a>
        </li>
        <li>
          <i class="fas fa-phone text-[#f5d67b] mr-2"></i>
          <a href="tel:+84987654321" class="hover:text-[#ff4d4d] transition">+84 987 654 321</a>
        </li>
        <li>
          <i class="fas fa-map-marker-alt text-[#f5d67b] mr-2"></i>
          Hà Nội, Việt Nam
        </li>
      </ul>

      <!-- Icon mạng xã hội -->
      <div class="flex mt-5 space-x-5 text-xl">
        <a href="#" title="Facebook"
           class="text-[#f5d67b] hover:text-[#ff4d4d] transition-transform transform hover:scale-110">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a href="mailto:gopy@lichsuviet.vn" title="Gửi email"
           class="text-[#f5d67b] hover:text-[#ff4d4d] transition-transform transform hover:scale-110">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="#" title="Twitter"
           class="text-[#f5d67b] hover:text-[#ff4d4d] transition-transform transform hover:scale-110">
          <i class="fab fa-twitter"></i>
        </a>
        <a href="#" title="YouTube"
           class="text-[#f5d67b] hover:text-[#ff4d4d] transition-transform transform hover:scale-110">
          <i class="fab fa-youtube"></i>
        </a>
      </div>
    </div>

    <!-- Cột 3 -->
    <div>
      <h4 class="text-lg font-semibold text-[#f5d67b] mb-3">Hỗ Trợ</h4>
      <ul class="space-y-2 text-sm">
        <li><a href="#gioi-thieu" class="hover:text-[#ff4d4d] transition">Giới thiệu</a></li>
        <li><a href="#faq" class="hover:text-[#ff4d4d] transition">Câu hỏi thường gặp</a></li>
        <li><a href="#huong-dan" class="hover:text-[#ff4d4d] transition">Hướng dẫn sử dụng</a></li>
        <li><a href="#baomat" class="hover:text-[#ff4d4d] transition">Chính sách bảo mật</a></li>
        <li><a href="#dieu-khoan" class="hover:text-[#ff4d4d] transition">Điều khoản dịch vụ</a></li>
      </ul>
    </div>

    <!-- Cột 4 -->
    <div>
      <h4 class="text-lg font-semibold text-[#f5d67b] mb-3">Bản Quyền</h4>
      <p class="text-sm">&copy; 2025 Nhóm Phát Triển Dòng Chảy Lịch Sử Việt.</p>
      <p class="mt-1 text-sm">Bảo lưu mọi quyền. Khi trích dẫn vui lòng ghi rõ nguồn.</p>
      <div class="mt-4 border-t border-[#c9a94b] pt-3 text-xs text-gray-400">
        Thiết kế & phát triển bởi <span class="text-[#ff4d4d] font-medium">Nhóm Dòng Chảy</span>.
      </div>
    </div>
  </div>

  <!-- Dòng cuối -->
  <div class="text-center mt-10 text-xs text-gray-400 border-t border-[#c9a94b] pt-4">
    Made by <span class="text-[#ff4d4d] font-medium">Bùi Lê Hậu</span> in Việt Nam 🇻🇳
  </div>
</footer>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    </div> 
    <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-card">
            <div class="modal-header">
                <h3 id="modal-title" class="modal-title"></h3>
                <button id="modal-close" class="close-btn" aria-label="Đóng">✕</button>
            </div>
            <div id="modal-body" class="modal-body"></div>
        </div>
    </div>

    <script>
        (function(){
            // DOM Elements
            const htmlEl = document.documentElement;
            const body = document.body;
            const navbar = document.getElementById('navbar');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeIconLight = themeToggleBtn?.querySelector('.theme-icon-light');
            const themeIconDark = themeToggleBtn?.querySelector('.theme-icon-dark');
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const mobileNavOverlay = document.getElementById('mobile-nav-overlay');
            const mobileNavClose = document.getElementById('mobile-nav-close');
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalClose = document.getElementById('modal-close');
            const searchInput = document.getElementById('search-input');
            const bookmarkCountEl = document.getElementById('bm-count');
            const contactForm = document.getElementById('contact-form');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const messageInput = document.getElementById('message');

            const bmKey = 'dclsv_bookmarks_v1';

            // --- Theme Toggle ---
             function applyTheme(theme) {
                 htmlEl.setAttribute('data-theme', theme);
                 localStorage.setItem('dcl_theme_v6', theme);
                 if (themeIconLight && themeIconDark) {
                      themeIconLight.classList.toggle('hidden', theme === 'dark');
                      themeIconDark.classList.toggle('hidden', theme === 'light');
                 }
             }
             const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
             const storedTheme = localStorage.getItem('dcl_theme_v6') || (prefersDark ? 'dark' : 'light');
             applyTheme(storedTheme);
             themeToggleBtn?.addEventListener('click', ()=> {
               const newTheme = htmlEl.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
               applyTheme(newTheme);
             });

            // --- Mobile Menu ---
             function openMobileNav() { mobileNavOverlay.style.display = 'flex'; mobileNavOverlay.setAttribute('aria-hidden', 'false'); mobileMenuToggle?.setAttribute('aria-expanded', 'true'); body.style.overflow = 'hidden'; mobileNavClose?.focus(); }
             function closeMobileNav() { mobileNavOverlay.style.display = 'none'; mobileNavOverlay.setAttribute('aria-hidden', 'true'); mobileMenuToggle?.setAttribute('aria-expanded', 'false'); body.style.overflow = ''; mobileMenuToggle?.focus(); }
             mobileMenuToggle?.addEventListener('click', openMobileNav);
             mobileNavClose?.addEventListener('click', closeMobileNav);
             mobileNavOverlay?.querySelectorAll('a').forEach(link => { link.addEventListener('click', closeMobileNav); });
             function checkNavDisplay() { const isMobile = window.innerWidth <= 1024; mobileMenuToggle?.classList.toggle('hidden', !isMobile); document.querySelector('.main-navigation')?.style.setProperty('display', isMobile ? 'none' : '', 'important'); if (!isMobile && mobileNavOverlay?.style.display === 'flex') { closeMobileNav(); } }
             checkNavDisplay(); window.addEventListener('resize', checkNavDisplay);

             // --- Modal Logic ---
             window.openModal = function(type, title, content) {
                 modalTitle.textContent = title;
                 modalBody.innerHTML = `<p>${content}</p>`;
                 modal.style.display = 'flex';
                 body.style.overflow = 'hidden';
                 modal.setAttribute('aria-hidden','false');
                 modalClose?.focus();
             }
             window.closeModal = function() {
                 modal.style.display = 'none';
                 body.style.overflow = '';
                 modal.setAttribute('aria-hidden','true');
             }
             modalClose?.addEventListener('click', closeModal);
             modal?.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
             document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal?.style.display === 'flex') closeModal(); });

            // --- Timeline Modal Trigger (Event Delegation) ---
            document.querySelector('.timeline-wrapper')?.addEventListener('click', (e) => {
                const targetEvent = e.target.closest('[data-modal-target="timeline-modal"]');
                if (targetEvent) {
                    const title = targetEvent.getAttribute('data-modal-title');
                    const content = targetEvent.getAttribute('data-modal-content');
                    openModal('timeline', title, content);
                }
            });
            document.querySelectorAll('[data-modal-target="timeline-modal"]').forEach(item => {
                 item.setAttribute('role', 'button'); item.setAttribute('tabindex', '0');
                 item.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); item.click(); } });
            });


             // --- Search Filter ---
             window.filterContent = function() {
                const q = (searchInput?.value || '').toLowerCase().trim();
                const contentBlocks = document.querySelectorAll('[data-keywords]');
                contentBlocks.forEach(block => {
                    const keys = (block.dataset.keywords || '').toLowerCase();
                    const innerText = block.innerText.toLowerCase();
                    block.style.display = (!q || keys.includes(q) || innerText.includes(q)) ? '' : 'none';
                });
             }
             searchInput?.addEventListener('input', filterContent);


             // --- Bookmark Logic (Event Delegation) ---
             window.bookmark = function (name) {
                let list = JSON.parse(localStorage.getItem(bmKey) || '[]');
                if (!list.includes(name)) {
                    list.push(name);
                    localStorage.setItem(bmKey, JSON.stringify(list));
                    updateBMcount();
                    alert(`Đã thêm '${name}' vào Yêu thích.`);
                } else {
                     alert(`'${name}' đã có trong Yêu thích.`);
                }
             }
             function updateBMcount() {
                 try { const list = JSON.parse(localStorage.getItem(bmKey) || '[]'); if(bookmarkCountEl) bookmarkCountEl.innerText = list.length; } catch(e) { console.error("Error reading bookmarks:", e); }
             }
             updateBMcount();
             
             document.querySelector('main')?.addEventListener('click', (e) => {
                 const targetBookmark = e.target.closest('[data-bookmark-id]');
                 if (targetBookmark) {
                     e.preventDefault();
                     const name = targetBookmark.getAttribute('data-bookmark-id');
                     bookmark(name);
                 }
             });


             // --- Quiz Placeholder ---
             window.startQuiz = () => openModal('quiz', 'Thử Thách Kiến Thức', 'Phần trắc nghiệm kiến thức lịch sử sẽ sớm được cập nhật!');
             document.getElementById('start-quiz-btn')?.addEventListener('click', startQuiz);


             // --- Contact Form Logic ---
             contactForm?.addEventListener('submit', (e) => {
                 e.preventDefault(); const name = nameInput?.value; const email = emailInput?.value; const message = messageInput?.value;
                 if (!name?.trim() || !email?.trim() || !message?.trim()) { alert('Vui lòng điền đầy đủ thông tin.'); return; }
                 const subject = encodeURIComponent(`Góp ý từ Website DCLSV (${name})`); const bodyText = encodeURIComponent(`Họ tên: ${name}\nEmail: ${email}\n\nNội dung:\n${message}`);
                 const mailtoLink = `mailto:gopy@lichsuviet.vn?subject=${subject}&body=${bodyText}`;
                 window.location.href = mailtoLink;
             });

            // Escape key closes mobile nav
            document.addEventListener('keydown', (e)=> { if(e.key === 'Escape'){ if (mobileNavOverlay?.style.display === 'flex') { closeMobileNav(); } } });

             // --- Smooth Scroll & Scroll Spy for Nav Links ---
             const navLinks = document.querySelectorAll('.main-navigation a[href^="#"], #mobile-nav-overlay a[href^="#"]');
             const sections = Array.from(document.querySelectorAll('section[id]'));

             function changeNavActiveState() {
                let index = sections.length;
                const headerOffset = navbar?.offsetHeight || 76;
                const currentScroll = window.pageYOffset + headerOffset + 80;
                while(--index >= 0 && currentScroll < sections[index].offsetTop) {}
                if (index < 0) {
                     const homeLink = sections.find(s => s.id === 'trang-chu');
                     index = homeLink ? sections.indexOf(homeLink) : 0;
                }

                navLinks.forEach((link) => link.classList.remove('active-page'));
                if (index >= 0 && sections[index]) {
                    const activeLinkSelector = `.main-navigation a[href="#${sections[index].id}"], #mobile-nav-overlay a[href="#${sections[index].id}"]`;
                    document.querySelectorAll(activeLinkSelector).forEach(link => link.classList.add('active-page'));
                }
             }

             navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href && href.startsWith('#') && href.length > 1) {
                        const targetId = href.substring(1); const targetElement = document.getElementById(targetId);
                        if (targetElement) {
                            e.preventDefault();
                            const headerOffset = navbar?.offsetHeight || 76;
                            const elementPosition = targetElement.getBoundingClientRect().top;
                            const offsetPosition = window.pageYOffset + elementPosition - headerOffset - 20;
                            window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                            if(mobileNavOverlay.style.display === 'flex') closeMobileNav();
                        }
                    }
                });
             });
            changeNavActiveState();
            window.addEventListener('scroll', changeNavActiveState);

        })();
    </script>
    
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
    
</script>
<script src="languages.js"></script>
  <script src="translate.js"></script>
</html>
</body>
</html>
