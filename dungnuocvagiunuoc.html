<!doctype html>
<html lang="vi" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>D·ª±ng n∆∞·ªõc ‚Äì Gi·ªØ n∆∞·ªõc ¬∑ D√≤ng Ch·∫£y L·ªãch S·ª≠ Vi·ªát</title>
  <meta name="description" content="C√°c cu·ªôc kh√°ng chi·∫øn, chi·∫øn c√¥ng anh h√πng v√† h·ªì s∆° nh√¢n v·∫≠t l·ªãch s·ª≠ Vi·ªát Nam.">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600;700&family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
 
       --bg-light: #fdfbf6; --card-light: #ffffff; --primary-light: #8C1C13; --accent-light: #B08D57;
       --text-light: #3a2e27; --muted-light: #7a6a5f; --border-light: #e0d8ce;
       --shadow-light: 0 15px 40px rgba(90, 70, 58, 0.12);
       --glass-light: rgba(253, 251, 246, 0.85); --input-bg-light: #f7f3ed;
       --pattern-light: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23e0d8ce' fill-opacity='0.08'%3E%3Cpath d='M0 0h40v40H0zM40 40h40v40H40z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
       --bg-dark: #141210; --card-dark: #1f1d1b; --primary-dark: var(--accent-light); --accent-dark: #cea86a;
       --text-dark: #f0e6d8; --muted-dark: #a89f94; --border-dark: #4a443e;
       --shadow-dark: 0 18px 55px rgba(0, 0, 0, 0.45);
       --glass-dark: rgba(20, 18, 16, 0.85); --input-bg-dark: #2c2926;
       --pattern-dark: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234a443e' fill-opacity='0.1'%3E%3Cpath d='M0 0h40v40H0zM40 40h40v40H40z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");

       --bg: var(--bg-light); --card: var(--card-light); --primary: var(--primary-light); --accent: var(--accent-light);
       --text: var(--text-light); --muted: var(--muted-light); --border: var(--border-light); --shadow: var(--shadow-light);
       --glass-bg: var(--glass-light); --input-bg: var(--input-bg-light); --pattern: var(--pattern-light);

      --radius: 14px; --radius-sm: 8px; --maxw: 1200px; --header-height: 76px;

       --font-body: 'Inter', system-ui, Arial, sans-serif;
       --font-heading: 'EB Garamond', serif;
       --font-script: 'Dancing Script', cursive; 
   
       --accent-rgb: 176, 141, 87; --primary-rgb: 140, 28, 19; --text-rgb: 58, 46, 39;
    }
    [data-theme="dark"]{
      --bg: var(--bg-dark); --card: var(--card-dark); --primary: var(--primary-dark); --accent: var(--accent-dark);
      --text: var(--text-dark); --muted: var(--muted-dark); --border: var(--border-dark); --shadow: var(--shadow-dark);
      --glass-bg: var(--glass-dark); --input-bg: var(--input-bg-dark); --pattern: var(--pattern-dark);
      --accent-rgb: 206, 168, 106; --primary-rgb: 176, 141, 87; --text-rgb: 240, 230, 216;
      color-scheme: dark;
    }
    *, *::before, *::after { box-sizing: border-box; }
    html{ scroll-behavior:smooth; scroll-padding-top: calc(var(--header-height) + 20px); }
    body{
        margin:0; padding: 0; font-family: var(--font-body); background-color: var(--bg);
        background-image: var(--pattern); color: var(--text); transition: background 0.3s, color 0.3s;
        padding-top: var(--header-height); font-size: 16px; line-height: 1.7;
        -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
    }
    a{color:var(--primary);text-decoration:none; transition: color 0.2s ease-out, opacity 0.2s ease-out;}
    a:hover { color: var(--accent); opacity: 0.9; }
    img { max-width: 100%; height: auto; display: block; border-radius: var(--radius-sm); }
    .wrap{max-width:var(--maxw); margin:0 auto; padding: 0 40px;}

    /* === Header === */
 /* === Header C·ªë ƒê·ªãnh D·∫°ng K√≠nh === */
    .sticky-header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        background: var(--glass-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); /* Blur m·∫°nh h∆°n */
        border-bottom: 1px solid var(--border); transition: background 0.3s, border 0.3s, box-shadow 0.3s;
        height: var(--header-height); display: flex; align-items: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.03); /* Th√™m shadow nh·∫π */
    }
     [data-theme="dark"] .sticky-header { box-shadow: 0 4px 15px rgba(0,0,0,0.2); }

    .header-container { display: flex; justify-content: space-between; align-items: center; width: 100%; }
    .header-brand { display: flex; align-items: center; gap: 14px; color: var(--primary); transition: transform 0.2s ease-out;}
    .header-brand:hover { transform: scale(2.03); } /* Hi·ªáu ·ª©ng hover logo */
    .main-navigation ul { display: flex; gap: 8px; list-style: none; margin: 0; padding: 0; }
    .main-navigation a {
        display: block; padding: 10px 18px; font-weight: 500; color: var(--text); border-radius: 8px;
        transition: background 0.2s, color 0.2s, transform 0.2s; font-size: 1rem; position: relative;
    }
    .main-navigation a:hover { background: var(--glass); color: var(--primary); transform: translateY(-2px); }
    .main-navigation a.active-page { color: var(--primary); font-weight: 600; background: transparent; }
    .main-navigation a.active-page::after {
        content: ''; position: absolute; bottom: 5px; left: 18px; right: 18px; height: 3px;
        background: var(--primary); border-radius: 1.5px;
        animation: slideIn 0.3s ease-out; /* Hi·ªáu ·ª©ng g·∫°ch ch√¢n */
    }
    @keyframes slideIn { from { width: 0; left: 50%; } to { width: calc(100% - 36px); left: 18px; } }
    [data-theme="dark"] .main-navigation a.active-page { color: var(--primary); }
    [data-theme="dark"] .main-navigation a.active-page::after { background: var(--primary); }

    .header-actions { display: flex; align-items: center; gap: 12px; }
    .icon-btn{
        background: transparent; border: 1px solid var(--border); padding: 12px; /* L·ªõn h∆°n */
        border-radius: 10px; color: var(--muted); cursor: pointer;
        transition: all 0.2s ease-out; line-height: 1; display: flex;
        align-items: center; justify-content: center; position: relative;
    }
    .icon-btn:hover { background: var(--glass); border-color: var(--primary); color: var(--primary); transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.05);}
    .icon-btn svg { width: 18px; height: 18px; } /* K√≠ch th∆∞·ªõc icon chu·∫©n */

    #theme-toggle .theme-icon-dark, #theme-toggle .theme-icon-light { transition: opacity 0.3s; }

/* === Thanh l·ªçc d√≠nh (sticky filters bar) === */
    .sticky-filters-bar {
        position: sticky;
        top: var(--header-height); /* D√≠nh ngay d∆∞·ªõi header ch√≠nh */
        background: var(--glass-bg);
        backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
        border-bottom: 1px solid var(--border);
        z-index: 999; /* D∆∞·ªõi header (1000) */
        padding: 16px 0;
    }
    .sticky-filters-bar .filters {
        margin: 0; /* Ghi ƒë√® margin m·∫∑c ƒë·ªãnh n·∫øu c√≥ */
        flex-grow: 1;
    }

    /* N·ªôi dung ch√≠nh */
    .content-area { padding: 80px 0; }

    /* Page Header */
    .page-header {
        margin-bottom: 72px; text-align: center; position: relative; padding: 60px 20px;
        border-radius: var(--radius); overflow: hidden;
        background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.03), transparent 70%),
                    linear-gradient(215deg, rgba(var(--accent-rgb), 0.05), transparent 60%);
        border: 1px solid var(--border); box-shadow: inset 0 0 100px rgba(var(--text-rgb), 0.04);
    }
    [data-theme="dark"] .page-header { background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.08), transparent 70%), linear-gradient(215deg, rgba(var(--accent-rgb), 0.06), transparent 60%); box-shadow: inset 0 0 120px rgba(var(--text-rgb), 0.06); }
    
    /* === THAY ƒê·ªîI: Ch·ªânh s·ª≠a H1 sang font Th∆∞ Ph√°p === */
    h1.page-title{ 
        margin:0 0 16px 0; color:var(--primary); 
        font-family: var(--font-script); /* ƒê·ªîI SANG TH∆Ø PH√ÅP */
        font-size: 6.5rem; /* TƒÉng nh·∫π k√≠ch th∆∞·ªõc */
        font-weight: 700; 
        line-height: 1.1; 
        letter-spacing: 0px; 
        text-shadow: 3px 3px 8px rgba(var(--text-rgb), 0.1); 
    }
    .page-subtitle{color:var(--muted); font-size: 1.3rem; max-width: 800px; margin: 0 auto; line-height: 1.8; font-family: var(--font-script); font-style: normal; font-weight: 500;} /* Ti√™u ƒë·ªÅ ph·ª• c≈©ng d√πng font th∆∞ ph√°p */

    main.card{
        background:var(--card); padding: 56px; border-radius:var(--radius);
        box-shadow:var(--shadow); border: 1px solid var(--border);
        transition: background 0.3s, border 0.3s;
        background-image: var(--pattern); background-size: 100px 100px;
        background-blend-mode: overlay;
    }

    .toolbar { 
        margin-bottom: 40px; padding-bottom: 32px; border-bottom: 1px solid var(--border); 
    }
    .search-row{display:flex;gap:12px; width: 100%;}
    .search-row input{
        flex:1; padding:16px 24px; border-radius: var(--radius-sm); border: 1px solid var(--border);
        background: var(--input-bg); color:inherit; font-size: 1.1rem; transition: all 0.25s ease-out;
        box-shadow: inset 0 2px 6px rgba(0,0,0,0.06);
    }
     .search-row input::placeholder { color: var(--muted); opacity: 0.8; }
     .search-row input:focus { outline: none; border-color: var(--primary); background: var(--card); box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.1), inset 0 1px 3px rgba(0,0,0,0.06); }
    .filters{display:flex;gap:12px;flex-wrap:wrap;}
    .tag{ /* Gi·ªëng con d·∫•u son */
        padding: 10px 20px; border-radius: var(--radius-sm); background: transparent;
        cursor: pointer; font-weight: 600; color: var(--muted);
        border: 2px solid var(--border); transition: all 0.25s ease-out;
        font-size: 0.95rem; letter-spacing: 0.5px; position: relative; overflow: hidden;
        box-shadow: 3px 3px 0px var(--border);
    }
    .tag:hover { transform: translate(-2px, -2px); box-shadow: 5px 5px 0px var(--accent); border-color: var(--accent); color: var(--accent); background: var(--glass);}
    .tag:active { transform: translate(1px, 1px); box-shadow: 1px 1px 0px var(--primary); }
    .tag.active{
        background: var(--primary); color: #fff; border-color: var(--primary);
        font-weight: 700; transform: none; box-shadow: 4px 4px 0px rgba(var(--primary-rgb), 0.3);
    }
    [data-theme="dark"] .tag { box-shadow: 3px 3px 0px var(--border-dark); }
    [data-theme="dark"] .tag:hover { box-shadow: 5px 5px 0px var(--accent-dark); border-color: var(--accent-dark); color: var(--accent-dark); }
    [data-theme="dark"] .tag.active { color: var(--bg-dark); box-shadow: 4px 4px 0px rgba(var(--primary-rgb), 0.4); }

    /* Layout Grid */
    .grid{display:grid;grid-template-columns:minmax(0, 2.5fr) minmax(0, 1fr);gap:48px;align-items:start}
    .section{margin-bottom:56px}
    .section h2 {
        font-family: var(--font-script); /* THAY ƒê·ªîI: Ti√™u ƒë·ªÅ H2 d√πng font th∆∞ ph√°p */
        font-size: 2.8rem; /* TƒÉng nh·∫π font H2 */
        color: var(--text); margin: 0 0 16px 0; padding-bottom: 12px;
        border-bottom: 1px solid var(--border); position: relative;
    }
     .section h2::after { content: ''; position: absolute; bottom: -1px; left: 0; width: 70px; height: 3px; background-color: var(--primary); border-radius: 1.5px; }
    .section > p.muted { font-size: 1.05rem; margin-bottom: 24px; line-height: 1.8; color: var(--muted); font-family: var(--font-heading); font-style: italic;}

    /* N√∫t */
    .btn { background: var(--primary); color: #fff; padding: 10px 20px; border-radius: 8px; border:0; font-weight: 600; cursor:pointer; transition: all 0.25s ease-out; display: inline-flex; align-items: center; gap: 8px; font-size: 0.95rem; box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.2); }
    .btn:hover { transform: translateY(-3px); filter: brightness(1.1); box-shadow: 0 8px 20px rgba(var(--primary-rgb), 0.3); }
    [data-theme="dark"] .btn { color: var(--bg-dark); box-shadow: 0 5px 15px rgba(var(--primary-rgb), 0.25); }
    [data-theme="dark"] .btn:hover { box-shadow: 0 8px 25px rgba(var(--primary-rgb), 0.35); }
    .bookmark-btn { background: transparent; border: 1px solid var(--border); padding: 8px 12px; border-radius: 8px; cursor: pointer; color: var(--muted); font-weight: 500; transition: all 0.2s ease-out;}
    .bookmark-btn:hover { background: var(--glass); color: var(--primary); border-color: var(--primary);}
    [data-theme="dark"] .bookmark-btn { border-color: var(--border-dark); }
    [data-theme="dark"] .bookmark-btn.saved { background: var(--primary); color: var(--bg-dark); border-color: var(--primary);}


    /* === THAY ƒê·ªîI: B·ªë c·ª•c 1 c·ªôt cho danh s√°ch kh√°ng chi·∫øn === */
    .cards{display:grid; grid-template-columns: 1fr; gap: 24px;}
    .card-item{
        background: var(--card); padding: 24px; border-radius: var(--radius);
        border: 1px solid var(--border); box-shadow: var(--shadow-light);
        transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        display: grid; grid-template-columns: 200px 1fr; /* ·∫¢nh | N·ªôi dung */
        gap: 24px; align-items: center;
    }
    .card-item:hover { transform: translateY(-8px); box-shadow: var(--shadow); }
    .card-item-image { width: 200px; height: 160px; object-fit: cover; border-radius: var(--radius-sm); }
    .card-item h4{ margin: 0 0 6px 0; font-family: var(--font-heading); font-size: 1.5rem; color: var(--text); }
    .card-item .meta{font-size:0.9rem;color:var(--muted); margin-bottom: 10px; font-weight: 500;}
    .card-item p.muted { margin: 0 0 12px 0; line-height: 1.6; }
    .card-item .actions { display:flex; gap:10px; align-items: center; margin-top: auto;}
    [data-theme="dark"] .card-item { background: var(--card-dark); border-color: var(--border-dark); box-shadow: var(--shadow-dark); }
    [data-theme="dark"] .card-item:hover { box-shadow: 0 20px 60px rgba(0,0,0,0.4); border-color: var(--primary); }

    /* hero profiles */
    .profiles{display:grid;grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));gap:24px;margin-top:24px}
    .profile{
        background:var(--card); padding: 0; border-radius: var(--radius); text-align:center;
        border: 1px solid var(--border); transition: all 0.3s ease-out; overflow: hidden;
        box-shadow: var(--shadow-light);
    }
     .profile:hover { transform: translateY(-8px) scale(1.02); box-shadow: var(--shadow); }
    .profile img{width:100%;height:200px;object-fit:cover; display: block; border-bottom: 1px solid var(--border); transition: transform 0.4s ease-out;}
    .profile:hover img { transform: scale(1.05); }
    .profile-content { padding: 24px; }
    .profile h5 { margin: 0 0 8px 0; font-family: var(--font-heading); font-size: 1.4rem; color: var(--text); }
    .profile .muted { font-size: 0.9rem; margin-bottom: 16px; line-height: 1.5; }
    [data-theme="dark"] .profile { background: var(--card-dark); border-color: var(--border-dark); }

    /* timeline strip - Th·∫ª tre */
    .timeline-strip{ display:flex; gap:16px; overflow-x: auto; padding: 20px 4px; margin: 20px -4px 0 -4px; scrollbar-width: thin; scrollbar-color: var(--muted) transparent; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); background: var(--glass); }
    .timeline-strip::-webkit-scrollbar { height: 8px; } .timeline-strip::-webkit-scrollbar-thumb { background-color: var(--accent); border-radius: 4px; border: 2px solid var(--glass); }
    [data-theme="dark"] .timeline-strip::-webkit-scrollbar-thumb { border-color: var(--glass); }
    .timeline-chip{
        min-width:180px; padding: 16px 20px; border-radius: var(--radius-sm);
        background: var(--card); border: 1px solid var(--border); cursor:pointer;
        transition: all 0.25s ease-out; text-align: center;
        box-shadow: var(--shadow-light); flex-shrink: 0; position: relative;
        border-left: 4px solid var(--accent);
    }
    .timeline-chip:hover { transform: translateY(-5px) scale(1.02); box-shadow: var(--shadow); border-color: var(--accent); }
    .timeline-chip .year { font-weight:700; color:var(--accent); display: block; margin-bottom: 6px; font-size: 0.9rem; }
    .timeline-chip .title { font-weight: 600; font-size: 1rem; color: var(--text); }
    [data-theme="dark"] .timeline-chip { background: var(--card-dark); border-color: var(--border-dark); border-left-color: var(--primary); }
    [data-theme="dark"] .timeline-chip:hover { border-color: var(--primary); }
    [data-theme="dark"] .timeline-chip .year { color: var(--primary); }
    [data-theme="dark"] .timeline-chip .title { color: var(--text-dark); }

    /* aside */
    .aside .box{ background:var(--card); padding: 28px; border-radius:var(--radius); margin-bottom:28px; border: 1px solid var(--border); box-shadow: var(--shadow-light); position: relative; overflow: hidden; background-image: var(--pattern); background-size: 80px 80px; background-blend-mode: overlay; }
    [data-theme="dark"] .aside .box { background: var(--card-dark); border-color: var(--border-dark); }
     .aside .box > * { position: relative; z-index: 1; }
     .aside h4 { 
        margin: 0 0 16px 0; font-family: var(--font-script); /* THAY ƒê·ªîI: Ti√™u ƒë·ªÅ H4 d√πng font th∆∞ ph√°p */
        font-size: 2rem; /* TƒÉng nh·∫π font H4 */
        color: var(--text); padding-bottom: 12px; border-bottom: 1px solid var(--border); position: relative; 
    }
     .aside h4::after { content: ''; position: absolute; bottom: -1px; left: 0; width: 50px; height: 3px; background-color: var(--primary); border-radius: 1.5px; }
     .aside ul { list-style: none; padding: 0; margin: 0; } .aside li { margin-bottom: 12px; }
     .aside a { font-weight: 500; font-size: 0.95rem; }
    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:12px; margin-top: 16px;}
    .gallery img{width:100%;height:120px;object-fit:cover;border-radius:8px;cursor:pointer; border: 1px solid var(--border); transition: transform 0.2s, box-shadow 0.2s;}
    .gallery img:hover { transform: scale(1.04); box-shadow: var(--shadow); }

    /* responsive */
    @media (max-width:980px){ .grid{grid-template-columns:1fr} .cards{grid-template-columns:1fr} .profiles{grid-template-columns:repeat(auto-fit, minmax(200px, 1fr))} .profile img{height:180px} .aside { margin-top: 40px;} }
    @media (max-width:640px){ .profiles{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))} .card-item { grid-template-columns: 1fr; text-align: center;} .card-item-image { width: 100%; height: 180px;} .card-item .actions { justify-content: center;} .toolbar { flex-direction: column; align-items: stretch; } }
     /* modal */
    .modal{ position:fixed;inset:0;background:rgba(20, 18, 16, 0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); display:flex;align-items:center;justify-content:center;z-index:1001;display:none; padding: 24px; animation: fadeIn 0.3s ease-out; } .modal-card{ background:var(--card); padding: 40px; border-radius:var(--radius); max-width:800px; width:95%; max-height:90vh; overflow-y:auto; border: 1px solid var(--border); box-shadow: var(--shadow-dark); scrollbar-width: thin; scrollbar-color: var(--muted) var(--card); animation: scaleIn 0.3s ease-out; } .modal-card::-webkit-scrollbar { width: 8px; } .modal-card::-webkit-scrollbar-thumb { background-color: var(--muted); border-radius: 4px; border: 2px solid var(--card);} .modal-header { display:flex;justify-content:space-between;align-items:flex-start;gap:16px; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid var(--border); } .modal-header h3 { margin: 0; font-family: var(--font-heading); font-size: 2.2rem; color: var(--primary); line-height: 1.3; } .close-btn{background:transparent;border:0;font-size:30px;cursor:pointer; color: var(--muted); line-height: 1; padding: 0; transition: color 0.2s, transform 0.2s;} .close-btn:hover { color: var(--primary); transform: rotate(90deg) scale(1.1); } .modal-body { margin-top: 24px; line-height: 1.8; font-size: 1.05rem; color: var(--text); } .modal-body p { margin-bottom: 1em; color: var(--muted); } .modal-body img { max-width: 300px; height: auto; float: left; margin: 0 20px 12px 0; border-radius: 8px; border: 1px solid var(--border);} .modal-body .meta { font-size: 0.95rem; color: var(--muted); margin-bottom: 12px; display: block; font-weight: 500;} .modal-footer { margin-top: 28px; padding-top: 20px; border-top: 1px solid var(--border); display:flex;gap:12px;justify-content:flex-end; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    
    /* Focus styles */
    *:focus-visible { outline: 3px solid var(--accent); outline-offset: 4px; border-radius: 6px; box-shadow: 0 0 0 6px rgba(var(--accent-rgb), 0.3); } *:focus:not(:focus-visible) { outline: none; }
    
    /* Helper class */
    .hidden { display: none !important; }
/* === START: CSS Footer === */
    footer {
        margin-top: 64px;
        padding: 48px 0;
        background: var(--input-bg); /* N·ªÅn nh·∫π cho footer */
        border-top: 1px solid var(--border);
        color: var(--muted);
        font-size: 0.95rem;
    }
    .footer-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 32px;
        max-width: var(--maxw); /* S·ª≠ d·ª•ng bi·∫øn --maxw ƒë√£ ƒë·ªãnh nghƒ©a */
        margin: 0 auto;
        padding: 0 40px; /* Padding ngang kh·ªõp v·ªõi .wrap */
        text-align: left;
    }
    .footer-column {
        flex: 1;
        min-width: 200px; /* ƒê·∫£m b·∫£o c√°c c·ªôt kh√¥ng qu√° h·∫πp */
    }
    .footer-column h4 {
        font-family: var(--font-heading); /* S·ª≠ d·ª•ng font heading ƒë√£ ƒë·ªãnh nghƒ©a */
        font-size: 1.5rem;
        color: var(--text);
        margin: 0 0 16px 0;
        font-weight: 600;
    }
    .footer-column p, .footer-column a {
        color: var(--muted);
        text-decoration: none;
        display: block;
        margin-bottom: 10px;
        line-height: 1.6; /* Th√™m line-height cho d·ªÖ ƒë·ªçc */
    }
    .footer-column a:hover {
        color: var(--primary); /* S·ª≠ d·ª•ng m√†u primary ƒë√£ ƒë·ªãnh nghƒ©a */
    }
    .footer-copyright {
        text-align: center;
        margin-top: 48px;
        padding-top: 24px;
        border-top: 1px dashed var(--border);
        font-size: 0.9rem;
    }
     /* Responsive cho footer */
    @media (max-width: 1024px) {
        .footer-content { padding: 0 24px; } /* Kh·ªõp padding wrap ·ªü tablet */
    }
    @media (max-width: 768px) {
        .footer-content {
            flex-direction: column; /* X·∫øp ch·ªìng c·ªôt tr√™n mobile */
            padding: 0 16px; /* Kh·ªõp padding wrap ·ªü mobile nh·ªè */
        }
    }
    @media (max-width: 480px) {
        .footer-content { padding: 0 12px; } /* Kh·ªõp padding wrap ·ªü mobile r·∫•t nh·ªè */
    }
    /* === END: CSS Footer === */
    /* === CSS N√∫t Ch·ªçn Ng√¥n Ng·ªØ === */
.language-switcher {
    display: inline-flex; /* D√πng flex ƒë·ªÉ cƒÉn ch·ªânh t·ªët h∆°n */
    align-items: center; /* CƒÉn gi·ªØa theo chi·ªÅu d·ªçc */
    margin-left: 16px; /* Kho·∫£ng c√°ch v·ªõi ph·∫ßn t·ª≠ tr∆∞·ªõc ƒë√≥ */
    font-size: 0.85rem; /* C·ª° ch·ªØ nh·ªè h∆°n m·ªôt ch√∫t */
    color: var(--muted);
    border: 1px solid var(--border); /* Th√™m vi·ªÅn nh·∫π */
    border-radius: 99px; /* Bo tr√≤n */
    padding: 2px; /* Kho·∫£ng ƒë·ªám nh·ªè b√™n trong */
    background-color: var(--input-bg); /* N·ªÅn nh·∫π */
}
.lang-btn {
    background: none;
    border: none;
    padding: 4px 10px; /* Padding n√∫t */
    cursor: pointer;
    font-weight: 500; /* B·ªè ƒë·∫≠m m·∫∑c ƒë·ªãnh */
    color: var(--muted);
    transition: all 0.2s ease-in-out;
    border-radius: 99px; /* Bo tr√≤n n√∫t */
    line-height: 1; /* ƒê·∫£m b·∫£o chi·ªÅu cao nh·∫•t qu√°n */
}
.lang-btn:hover {
    color: var(--primary);
    background-color: var(--glass-bg); /* Hi·ªáu ·ª©ng k√≠nh khi hover */
}
.lang-btn.active {
    color: #fff; /* Ch·ªØ tr·∫Øng khi active */
    font-weight: 600; /* ƒê·∫≠m h∆°n khi active */
    background-color: var(--primary); /* N·ªÅn m√†u ch√≠nh khi active */
    box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3); /* ƒê·ªï b√≥ng nh·∫π */
}
/* Th√™m m√†u cho d·∫•u | */
.language-switcher span {
    padding: 0 2px;
    color: var(--border);
}
/* === END CSS N√∫t Ch·ªçn Ng√¥n Ng·ªØ === */
/* ƒê√¢y l√† code CSS ƒë√£ s·ª≠a */

  </style>
</head>
<body data-theme="light">

   <div class="main-layout">
    <header class="sticky-header">
         <a href="trangchu.html" class="header-brand logo-image-mode" title="D√≤ng Ch·∫£y L·ªãch S·ª≠ Vi·ªát - Trang Ch·ªß">
  <img src="images/dclsv.png" alt="Logo website" width="250" style="padding-top: 25px;"> </a>
            <nav class="main-navigation" aria-label="ƒêi·ªÅu h∆∞·ªõng ch√≠nh">
                 <ul>
                   
                    <li><a href="lichsu.html">L·ªãch S·ª≠</a></li>
                    <li><a href="dungnuocvagiunuoc.html"class="active-page" >D·ª±ng N∆∞·ªõc & Gi·ªØ N∆∞·ªõc</a></li>
                    <li><a href="vanhoa.html">VƒÉn H√≥a</a></li>
                    <li><a href="khotulieu.html">T∆∞ Li·ªáu</a></li>
                    <li><a href="tintuc.html">Tin T·ª©c</a></li>
                    <li><a href="lienhe.html">Li√™n H·ªá & G√≥p √Ω</a></li>
                 </ul>
            </nav>
            <div class="header-actions">
                 <div class="language-switcher">
    <button id="lang-vi" class="lang-btn" data-lang="vi" data-translate-key="langVIE">VIE</button> |
    <button id="lang-en" class="lang-btn" data-lang="en" data-translate-key="langENG">ENG</button>
</div>
                 <button id="theme-toggle" class="icon-btn" title="Chuy·ªÉn giao di·ªán S√°ng/T·ªëi" aria-live="polite">
                 
                     <span class="theme-icon-light" aria-label="Ch·∫ø ƒë·ªô s√°ng">‚òÄÔ∏è</span>
                     <span class="theme-icon-dark hidden" aria-label="Ch·∫ø ƒë·ªô t·ªëi">üåô</span>
                 </button>
                  
            </div>
        
    </header>
  <div class="sticky-filters-bar">
    <div class="wrap" style="display: flex; justify-content: space-between; align-items: center; gap: 20px;">
       <div class="filters" role="toolbar" aria-label="B·ªô l·ªçc" style="flex-grow: 1;">
         <div class="tag active" data-filter="all" role="tab" tabindex="0">T·∫•t c·∫£</div>
         <div class="tag" data-filter="war" role="tab" tabindex="0">Kh√°ng chi·∫øn</div>
         <div class="tag" data-filter="hero" role="tab" tabindex="0">Nh√¢n v·∫≠t</div>
         <div class="tag" data-filter="event" role="tab" tabindex="0">S·ª± ki·ªán</div>
       </div>
       
       <div style="flex-shrink: 0;">
          <button id="show-bookmarks" class="icon-btn" title="Xem m·ª•c ƒë√£ l∆∞u">‚òÖ M·ª•c ƒë√£ l∆∞u (<span id="bookmark-count">0</span>)</button>
       </div>
    </div>
  </div>
  <div class="content-area">
    <div class="wrap">
    
          <div class="page-header">
          <h1 class="page-title">D·ª±ng N∆∞·ªõc & Gi·ªØ N∆∞·ªõc</h1>
          <p class="page-subtitle">C√°c cu·ªôc kh√°ng chi·∫øn, chi·∫øn c√¥ng anh h√πng v√† h·ªì s∆° nh√¢n v·∫≠t l·ªãch s·ª≠</p>
      </div>

      <main class="card" role="main">
        <div class="toolbar">
          <div class="search-row" role="search">
            <input id="global-search" type="search" placeholder="T√¨m cu·ªôc kh√°ng chi·∫øn, nh√¢n v·∫≠t (v√≠ d·ª•: 'B·∫°ch ƒê·∫±ng', 'Hai B√† Tr∆∞ng')...">
            <button id="search-clear" class="icon-btn" title="X√≥a">‚úï</button>
          </div>
        </div>

        <div class="grid" style="margin-top:24px">
          <div>
            <section class="section" id="overview">
              <h2 class="section-title" style="font-size: 2.8rem;">Gi·ªõi thi·ªáu</h2>
              <p class="muted">Ch·ªß ƒë·ªÅ "D·ª±ng n∆∞·ªõc ‚Äî Gi·ªØ n∆∞·ªõc" t·∫≠p trung v√†o nh·ªØng cu·ªôc kh√°ng chi·∫øn ch·ªëng ngo·∫°i x√¢m, c√°c chi·∫øn c√¥ng v√† nh√¢n v·∫≠t ƒë√£ g√≥p ph·∫ßn b·∫£o v·ªá, x√¢y d·ª±ng ƒë·∫•t n∆∞·ªõc. Trang n√†y tr√¨nh b√†y t√≥m t·∫Øt c√°c cu·ªôc kh√°ng chi·∫øn quan tr·ªçng, h·ªì s∆° m·ªôt s·ªë nh√¢n v·∫≠t ti√™u bi·ªÉu v√† timeline c√°c m·ªëc.</p>
            </section>

            <section class="section" id="wars-list">
              <h2 class="section-title">Kh√°ng chi·∫øn & Chi·∫øn c√¥ng</h2>
              <div class="cards" id="war-cards">
                {/* cards injected by JS */}
              </div>
            </section>

            <section class="section" id="timeline">
              <h2 class="section-title">D√≤ng ch·∫£y S·ª± ki·ªán</h2>
              <div class="timeline-strip" id="timeline-strip" role="list">
                {/* chips injected */}
              </div>
            </section>

            <section class="section" id="profiles">
              <h2 class="section-title">H·ªì s∆° Nh√¢n v·∫≠t</h2>
              <p class="muted">M·ªôt s·ªë nh√¢n v·∫≠t ti√™u bi·ªÉu ‚Äî click "Xem" ƒë·ªÉ m·ªü h·ªì s∆° chi ti·∫øt.</p>
              <div class="profiles" id="profile-list">
                {/* profile cards injected */}
              </div>
            </section>

            <section class="section" id="readmore" style="border-bottom: none; margin-bottom: 0;">
              <h2 class="section-title">ƒê·ªçc th√™m</h2>
              <ul>
                <li><a href="https://vi.wikipedia.org/wiki/L%E1%BB%8Bch_s%E1%BB%AD_Vi%E1%BB%87t_Nam" target="_blank" rel="noopener">B√†i Wikipedia: L·ªãch s·ª≠ Vi·ªát Nam <span aria-hidden="true">‚Üó</span></a></li>
                <li><a href="gallery.html">Kho t∆∞ li·ªáu: ·∫£nh, b·∫£n ƒë·ªì <span aria-hidden="true">‚Üí</span></a></li>
              </ul>
            </section>
          </div>

          <aside class="aside">
            <div class="aside-box box">
              <h4>Th√¥ng tin nhanh</h4>
              <div class="muted" style="margin-top:8px; font-size: 0.95rem; line-height: 1.7;">S·ª≠ d·ª•ng b·ªô l·ªçc v√† √¥ t√¨m ki·∫øm ƒë·ªÉ l·ªçc nhanh. Nh·∫•n ‚òÖ tr√™n m·ªói m·ª•c ƒë·ªÉ l∆∞u l·∫°i xem sau.</div>
            </div>

            <div class="aside-box box">
              <h4>Th∆∞ vi·ªán ·∫¢nh</h4>
              <div class="gallery" id="gallery">

              </div>
            </div>
       
            <div class="aside-box box map-placeholder">
                  <h4>B·∫£n ƒë·ªì Chi·∫øn s·ª± (Minh h·ªça)</h4>
                  <a href="https://baodaklak.vn/chinh-tri/lich-su-truyen-thong/202505/tam-ban-do-quy-trong-chien-dich-dien-bien-phu-eff0212/" title="Xem b·∫£n ƒë·ªì chi ti·∫øt (t√≠nh nƒÉng s·∫Øp c√≥)">
                     <img src="https://baodaklak.vn/file/fb9e3a03798789de0179a1704dea238e/052025/bandodbp_20250525083633.jpg" alt="B·∫£n ƒë·ªì minh h·ªça c√°c chi·∫øn d·ªãch" loading="lazy">
                  </a>
                  <p class="muted" style="font-size: 0.9rem; margin-top: 12px;">Minh h·ªça c√°c ƒë·ªãa ƒëi·ªÉm di·ªÖn ra c√°c tr·∫≠n ƒë√°nh l·ªãch s·ª≠.</p>
              </div>

            <div class="aside-box box">
              <h4>Li√™n k·∫øt nhanh</h4>
              <ul>
                <li><a href="#wars-list">C√°c cu·ªôc kh√°ng chi·∫øn</a></li>
                <li><a href="#profiles">H·ªì s∆° nh√¢n v·∫≠t</a></li>
                <li><a href="#timeline">D√≤ng ch·∫£y S·ª± ki·ªán</a></li>
              </ul>
            </div>
          </aside>
        </div>
      </main>
    </div>
  </div>

  <div id="profile-modal" class="modal" style="display:none" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-header">
        <h3 id="modal-title">Ti√™u ƒë·ªÅ</h3>
        <button id="modal-close" class="close-btn" aria-label="ƒê√≥ng">‚úï</button>
      </div>
      <div id="modal-body" class="modal-body"></div>
      <div class="modal-footer">
        <button id="modal-bookmark" class="icon-btn">‚òÖ L∆∞u</button>
        <button id="modal-share" class="icon-btn">üîó Chia s·∫ª</button>
      </div>
    </div>
  </div>

  <div id="image-lightbox" style="position:fixed;inset:0;background:rgba(18, 18, 16, 0.95);display:flex;align-items:center;justify-content:center;z-index:1002;cursor:pointer; display: none; animation: fadeIn 0.25s ease-out;">
      <img src="" alt="Xem ·∫£nh l·ªõn" style="max-width:92%;max-height:92%;border-radius:var(--radius-sm); display:block; margin: auto; border: 5px solid var(--card); box-shadow: 0 20px 60px rgba(0,0,0,0.6);">
      <button id="lightbox-close" aria-label="ƒê√≥ng ·∫£nh" style="position:absolute; top: 25px; right: 25px; font-size: 2.8rem; color: #fff; background:none; border:none; cursor:pointer; opacity: 0.8; transition: opacity 0.2s, transform 0.2s;">&times;</button>
   </div>

  <script>
    (function(){
      // Sample data
      const WARS = [
        { id:'haibatrung40', year:'40 SCN', title:'Kh·ªüi nghƒ©a Hai B√† Tr∆∞ng', summary:'Ch·ªëng √°ch ƒë√¥ h·ªô c·ªßa nh√† ƒê√¥ng H√°n, l·∫≠p qu·ªëc trong 3 nƒÉm.', tags:['war','event'], content:'Hai B√† Tr∆∞ng (Tr∆∞ng Tr·∫Øc v√† Tr∆∞ng Nh·ªã) l√£nh ƒë·∫°o cu·ªôc kh·ªüi nghƒ©a l·ªõn ƒë·∫ßu ti√™n, ƒë√°nh ƒëu·ªïi Th√°i th√∫ T√¥ ƒê·ªãnh. Tr∆∞ng Tr·∫Øc l√™n ng√¥i vua, l·∫≠p kinh ƒë√¥ t·∫°i M√™ Linh.', image: 'https://images.squarespace-cdn.com/content/v1/55b6b656e4b02f9283ad1d54/1530470359571-36JQ5AS7OLWL5AAZ1W4W/hai-ba-trung-1.jpg' },
        { id:'bachdang938', year:'938', title:'Chi·∫øn th·∫Øng B·∫°ch ƒê·∫±ng', summary:'ƒê√°nh tan qu√¢n Nam H√°n, Ng√¥ Quy·ªÅn x∆∞ng v∆∞∆°ng, m·ªü n·ªÅn ƒë·ªôc l·∫≠p.', tags:['war','battle'], content:'Ng√¥ Quy·ªÅn d√πng k·∫ø c·∫Øm c·ªçc g·ªó b·ªãt s·∫Øt nh·ªçn d∆∞·ªõi l√≤ng s√¥ng B·∫°ch ƒê·∫±ng, nh·ª≠ qu√¢n Nam H√°n v√†o tr·∫≠n ƒë·ªãa v√† ti√™u di·ªát ho√†n to√†n th·ªßy qu√¢n ƒë·ªãch.', image: 'https://i.makeagif.com/media/11-29-2015/1srny4.gif' },
        { id:'chongtong1077', year:'1075-1077', title:'Kh√°ng chi·∫øn ch·ªëng T·ªëng', summary:'L√Ω Th∆∞·ªùng Ki·ªát ch·ªß ƒë·ªông t·∫•n c√¥ng "ph·∫°t T·ªëng", sau ƒë√≥ l·∫≠p ph√≤ng tuy·∫øn s√¥ng Nh∆∞ Nguy·ªát.', tags:['war'], content:'Cu·ªôc kh√°ng chi·∫øn do L√Ω Th∆∞·ªùng Ki·ªát l√£nh ƒë·∫°o. N·ªïi ti·∫øng v·ªõi chi·∫øn thu·∫≠t "ti√™n ph√°t ch·∫ø nh√¢n" v√† tr·∫≠n chi·∫øn tr√™n ph√≤ng tuy·∫øn s√¥ng Nh∆∞ Nguy·ªát v·ªõi b√†i th∆° "Nam qu·ªëc s∆°n h√†".', image: 'https://nguonluc.com.vn/uploads/images/2023/02/09/ly-thuong-kiet-chien-tranh-tong-viet-01-1675916093.jpg' },
        { id:'chongnguyen1200', year:'TK 13', title:'Ba l·∫ßn kh√°ng chi·∫øn ch·ªëng M√¥ng-Nguy√™n', summary:'Qu√¢n d√¢n nh√† Tr·∫ßn ba l·∫ßn ƒë√°nh b·∫°i ƒë·ªôi qu√¢n x√¢m l∆∞·ª£c h√πng m·∫°nh nh·∫•t th·∫ø gi·ªõi.', tags:['war'], content:'D∆∞·ªõi s·ª± l√£nh ƒë·∫°o c·ªßa c√°c vua Tr·∫ßn v√† H∆∞ng ƒê·∫°o V∆∞∆°ng Tr·∫ßn Qu·ªëc Tu·∫•n, qu√¢n d√¢n ƒê·∫°i Vi·ªát ƒë√£ th·ª±c hi·ªán "v∆∞·ªùn kh√¥ng nh√† tr·ªëng" v√† c√°c tr·∫≠n th·∫Øng l·∫´y l·ª´ng (ƒê√¥ng B·ªô ƒê·∫ßu, H√†m T·ª≠, Ch∆∞∆°ng D∆∞∆°ng, B·∫°ch ƒê·∫±ng 1288).', image: 'https://cdn-i.vtcnews.vn/resize/th/upload/2019/12/27/1-11282448.jpg' },
        { id:'dienbien1954', year:'1954', title:'Chi·∫øn th·∫Øng ƒêi·ªán Bi√™n Ph·ªß', summary:'ƒê√°nh b·∫°i th·ª±c d√¢n Ph√°p, k·∫øt th√∫c chi·∫øn tranh ƒê√¥ng D∆∞∆°ng.', tags:['war','modern','battle'], content:'Tr·∫≠n quy·∫øt chi·∫øn chi·∫øn l∆∞·ª£c t·∫°i ƒêi·ªán Bi√™n Ph·ªß d∆∞·ªõi s·ª± ch·ªâ huy c·ªßa T∆∞·ªõng V√µ Nguy√™n Gi√°p, bu·ªôc Ph√°p k√Ω Hi·ªáp ƒë·ªãnh Gen√®ve.', image:'https://i.makeagif.com/media/5-13-2018/gRTZA8.gif' },
        { id:'cmthang8_1945', year:'1945', title:'C√°ch m·∫°ng Th√°ng T√°m', summary:'Gi√†nh ch√≠nh quy·ªÅn t·ª´ tay ph√°t x√≠t Nh·∫≠t, l·∫≠p n√™n n∆∞·ªõc VNDCCH.', tags:['event','revolution'], content:'Ch·ªõp th·ªùi c∆° Nh·∫≠t ƒë·∫ßu h√†ng ƒê·ªìng minh, Vi·ªát Minh l√£nh ƒë·∫°o to√†n d√¢n t·ªïng kh·ªüi nghƒ©a. Ng√†y 2/9/1945, Ch·ªß t·ªãch H·ªì Ch√≠ Minh ƒë·ªçc Tuy√™n ng√¥n ƒê·ªôc l·∫≠p.', image:'https://thunghiemngaynay.vn/upload_images/images/chao%20mung%20quoc%20khanh%202-9.jpg'  },
        { id:'thongnhat1975', year:'1975', title:'ƒê·∫°i th·∫Øng M√πa Xu√¢n 1975', summary:'K·∫øt th√∫c 21 nƒÉm kh√°ng chi·∫øn ch·ªëng M·ªπ, th·ªëng nh·∫•t ƒë·∫•t n∆∞·ªõc.', tags:['event','modern'], content:'V·ªõi chi·∫øn d·ªãch H·ªì Ch√≠ Minh l·ªãch s·ª≠, qu√¢n gi·∫£i ph√≥ng ti·∫øn v√†o S√†i G√≤n, k·∫øt th√∫c chi·∫øn tranh, non s√¥ng thu v·ªÅ m·ªôt m·ªëi.', image: 'https://static-images.vnncdn.net/vps_images_publish/000001/000003/2025/4/30/1975-34845.gif?width=360&s=1OwsgoDE8dlkmjiHs7GgnQ'}
      ];
      const PROFILES = [
   { 
    id:'hochiminh', 
    name:'H·ªì Ch√≠ Minh', 
    role:'Ch·ªß t·ªãch n∆∞·ªõc', 
    bio:'L√£nh t·ª• thi√™n t√†i, ng∆∞·ªùi th·∫ßy vƒ© ƒë·∫°i c·ªßa c√°ch m·∫°ng Vi·ªát Nam, Anh h√πng gi·∫£i ph√≥ng d√¢n t·ªôc, Danh nh√¢n vƒÉn h√≥a th·∫ø gi·ªõi. Ng∆∞·ªùi s√°ng l·∫≠p ƒê·∫£ng C·ªông s·∫£n Vi·ªát Nam v√† khai sinh n∆∞·ªõc Vi·ªát Nam D√¢n ch·ªß C·ªông h√≤a.', 
    image:'https://lamdong.gov.vn/sites/congan/bao-ve-nen-tang-tu-tuong-cua-dang/SiteAssets/SitePages/Xuyen-tac-boi-nho-Chu-tich-Ho-Chi-Minh-la-hanh-dong-dang-len-an/27439-bac-ho_20230518191851.jpg', 
    born:'1890', 
    died:'1969' 
  },
  { 
    id:'vonguyengiap', 
    name:'V√µ Nguy√™n Gi√°p', 
    role:'ƒê·∫°i t∆∞·ªõng', 
    bio:'"Ng∆∞·ªùi anh c·∫£" c·ªßa Qu√¢n ƒë·ªôi Nh√¢n d√¢n Vi·ªát Nam, T·ªïng t∆∞ l·ªánh ch·ªâ huy chi·∫øn d·ªãch ƒêi·ªán Bi√™n Ph·ªß (1954) v√† chi·∫øn d·ªãch H·ªì Ch√≠ Minh (1975).', 
    image:'https://imgnvsk.vnanet.vn/MediaUpload/Org/2023/07/11/vna-potal-chan-dung-dai-tuong-vo-nguyen-giap-184218511-16-3-52.jpg', 
    born:'1911', 
    died:'2013' 
  },
      { 
    id:'trung', 
    name:'Hai B√† Tr∆∞ng', 
    role:'N·ªØ v∆∞∆°ng', 
    bio:'Hai ch·ªã em Tr∆∞ng Tr·∫Øc v√† Tr∆∞ng Nh·ªã, l√£nh ƒë·∫°o cu·ªôc kh·ªüi nghƒ©a l·ªõn ƒë·∫ßu ti√™n ch·ªëng √°ch ƒë√¥ h·ªô c·ªßa nh√† ƒê√¥ng H√°n, bi·ªÉu t∆∞·ª£ng cho tinh th·∫ßn b·∫•t khu·∫•t c·ªßa ph·ª• n·ªØ Vi·ªát Nam.', 
    image:'https://cand.com.vn/Files/Image/thanhbinh/2020/01/20/eab955b3-4d93-4419-adab-1551091a17b9.jpg', 
    born:'NƒÉm 14', 
    died:'NƒÉm 43' 
  },
  { 
    id:'ngoq', 
    name:'Ng√¥ Quy·ªÅn', 
    role:'Vua (T·ªï Trung H∆∞ng)', 
    bio:'V·ªã vua m·ªü ƒë·∫ßu th·ªùi k·ª≥ ƒë·ªôc l·∫≠p t·ª± ch·ªß l√¢u d√†i c·ªßa Vi·ªát Nam. N·ªïi ti·∫øng v·ªõi chi·∫øn th·∫Øng qu√¢n Nam H√°n tr√™n s√¥ng B·∫°ch ƒê·∫±ng nƒÉm 938.', 
    image:'https://vznew.com/wp-content/uploads/2022/04/ngo-quyen-que-o-dau.jpg', 
    born:'898', 
    died:'944' 
  },
  { 
    id:'tranhungdao', 
    name:'Tr·∫ßn H∆∞ng ƒê·∫°o', 
    role:'Qu·ªëc c√¥ng Ti·∫øt ch·∫ø', 
    bio:'Tr·∫ßn Qu·ªëc Tu·∫•n, H∆∞ng ƒê·∫°o ƒê·∫°i V∆∞∆°ng, l√† nh√† ch√≠nh tr·ªã, qu√¢n s·ª± thi√™n t√†i. √îng l√† T·ªïng ch·ªâ huy qu√¢n ƒë·ªôi ƒê·∫°i Vi·ªát 3 l·∫ßn ƒë√°nh tan qu√¢n x√¢m l∆∞·ª£c M√¥ng-Nguy√™n.', 
    image:'https://images.spiderum.com/sp-images/968779a06a3311ecb1922f9ddf2fb974.jpeg', 
    born:'1228?', 
    died:'1300' 
  },
  { 
    id:'quangtrung', 
    name:'Nguy·ªÖn Hu·ªá', 
    role:'Ho√†ng ƒë·∫ø', 
    bio:'Nguy·ªÖn Hu·ªá (Vua Quang Trung) l√† anh h√πng √°o v·∫£i, nh√† qu√¢n s·ª± l·ªói l·∫°c. L√£nh ƒë·∫°o phong tr√†o T√¢y S∆°n, ƒë√°nh ƒë·ªï ch√∫a Tr·ªãnh, ch√∫a Nguy·ªÖn, ph√° qu√¢n Xi√™m, di·ªát qu√¢n Thanh, th·ªëng nh·∫•t ƒë·∫•t n∆∞·ªõc.', 
    image:'https://www.daophatngaynay.com/vn/files/images/2015/quy4/3136532_orig_655029116.jpg', 
    born:'1753', 
    died:'1792' 
  }

];

      const GALLERY = PROFILES.map(p => p.image).slice(0, 4); // L·∫•y 4 ·∫£nh ƒë·∫ßu t·ª´ profiles

      // DOM Elements
      const htmlEl = document.documentElement;
      const themeToggleBtn = document.getElementById('theme-toggle');
      const themeIconLight = themeToggleBtn?.querySelector('.theme-icon-light');
      const themeIconDark = themeToggleBtn?.querySelector('.theme-icon-dark');
  
      const warContainer = document.getElementById('war-cards');
      const timelineStrip = document.getElementById('timeline-strip');
      const profileList = document.getElementById('profile-list');
      const galleryEl = document.getElementById('gallery');
      const searchInput = document.getElementById('global-search');
      const clearBtn = document.getElementById('search-clear');
      // === THAY ƒê·ªîI: S·ª≠a selector t·ª´ .chip th√†nh .filters .tag ===
      const chips = document.querySelectorAll('.filters .tag');
      const bookmarkViewBtn = document.getElementById('show-bookmarks');
      const bookmarkCountSpan = document.getElementById('bookmark-count');

      const modal = document.getElementById('profile-modal');
      const modalTitle = document.getElementById('modal-title');
      const modalBody = document.getElementById('modal-body');
      const modalClose = document.getElementById('modal-close');
      const modalBookmark = document.getElementById('modal-bookmark');
      const modalShare = document.getElementById('modal-share');
      const lightbox = document.getElementById('image-lightbox');
      const lightboxImg = lightbox.querySelector('img');
      const lightboxClose = document.getElementById('lightbox-close');

      // Bookmarks
      const BOOKMARK_KEY = 'dcl_heroes_bookmarks_v1';
      function getBookmarks(){ try{ return JSON.parse(localStorage.getItem(BOOKMARK_KEY)||'[]'); }catch(e){ return []; } }
      function saveBookmarks(list){ localStorage.setItem(BOOKMARK_KEY, JSON.stringify(list)); }
      function updateBookmarkCount() {
          const count = getBookmarks().length;
          if(bookmarkCountSpan) bookmarkCountSpan.textContent = count;
      }

      // Render Functions
      function renderWars(filterText='', filterTag='all'){
        warContainer.innerHTML = '';
        const q = filterText.trim().toLowerCase();
        const bookmarks = getBookmarks();
        const list = WARS.filter(w=>{
          if(filterTag !== 'all' && !w.tags.includes(filterTag)) return false;
          if(!q) return true;
          return (w.title + ' ' + (w.summary||'') + ' ' + (w.year||'')).toLowerCase().includes(q);
        });
        if(list.length === 0){
          warContainer.innerHTML = '<p class="muted text-center col-span-full">Kh√¥ng t√¨m th·∫•y m·ª•c n√†o ph√π h·ª£p.</p>';
          return;
        }
        list.forEach((w, index) => {
          const isBookmarked = bookmarks.includes(w.id);
          const el = document.createElement('div');
          el.className = 'card-item';
          el.setAttribute('data-keywords', `${w.title} ${w.summary} ${w.tags.join(' ')} ${w.year}`);
          el.style = `--item-index: ${index}`; // For animation delay
          el.innerHTML = `
            <img src="${w.image}" alt="${w.title}" class="card-item-image">
            <div>
              <h4>${w.title}</h4>
              <div class="meta">${w.year} ‚Ä¢ ${w.tags.includes('battle') ? 'Tr·∫≠n ƒë√°nh' : (w.tags.includes('revolution') ? 'C√°ch m·∫°ng' : 'Kh√°ng chi·∫øn')}</div>
              <p class="muted">${w.summary}</p>
              <div class="actions">
                <button class="btn btn-view" data-id="${w.id}">Xem</button>
                <button class="bookmark-btn btn-save" data-id="${w.id}" title="${isBookmarked ? 'B·ªè l∆∞u' : 'L∆∞u'}" aria-pressed="${isBookmarked}">${isBookmarked ? '‚úì ƒê√£ l∆∞u' : '‚òÖ L∆∞u'}</button>
              </div>
            </div>`;
          warContainer.appendChild(el);
        });
      }

      function renderTimeline(){
        timelineStrip.innerHTML = '';
        // Ch·ªâ l·∫•y 8 m·ª•c ƒë·∫ßu ti√™n cho timeline
        WARS.slice(0, 8).forEach(w=>{
          const c = document.createElement('button');
          c.className = 'timeline-chip';
          c.setAttribute('data-id', w.id);
          c.innerHTML = `<span class="year">${w.year}</span><span class="title">${w.title}</span>`;
          timelineStrip.appendChild(c);
        });
      }

      function renderProfiles(filterText='', filterTag='all'){
        profileList.innerHTML = '';
        const q = filterText.trim().toLowerCase();
        const bookmarks = getBookmarks();
        // L·ªçc profile
        const list = PROFILES.filter(p => {
            if(filterTag !== 'all' && filterTag !== 'hero') return false; // Ch·ªâ hi·ªán n·∫øu filter l√† 'all' ho·∫∑c 'hero'
            if(!q) return true;
            return (p.name + ' ' + (p.role||'') + ' ' + (p.bio||'')).toLowerCase().includes(q);
        });
        
        if (list.length === 0) {
            profileList.innerHTML = '<p class="muted text-center col-span-full">Kh√¥ng t√¨m th·∫•y nh√¢n v·∫≠t n√†o.</p>';
            return;
        }
        
        list.forEach((p, index)=>{
          const isBookmarked = bookmarks.includes(p.id);
          const card = document.createElement('div');
          card.className = 'profile';
          card.setAttribute('data-keywords', `${p.name} ${p.role} ${p.bio}`);
          card.style = `--item-index: ${index}`;
          card.innerHTML = `
              <img src="${p.image}" alt="${p.name}">
              <div class="profile-content">
                <h5>${p.name}</h5>
                <div class="muted">${p.role}</div>
                <div class="actions" style="justify-content: center; margin-top: 16px;">
                    <button class="btn btn-view" data-id="${p.id}">Xem</button>
                    <button class="icon-btn btn-save" data-id="${p.id}" title="${isBookmarked ? 'B·ªè l∆∞u' : 'L∆∞u'}" aria-pressed="${isBookmarked}">${isBookmarked ? '‚úì' : '‚òÖ'}</button>
                </div>
              </div>`;
          profileList.appendChild(card);
        });
      }

      function renderGallery(){
        galleryEl.innerHTML = '';
        GALLERY.forEach(src=>{
          const button = document.createElement('button');
          button.innerHTML = `<img src="${src}" alt="·∫¢nh t∆∞ li·ªáu" loading="lazy">`;
          button.addEventListener('click', ()=> openLightbox(src));
          galleryEl.appendChild(button);
        });
      }

      // Open profile modal
      function openProfile(id){
        const p = PROFILES.find(x => x.id === id) || WARS.find(x => x.id === id); // M·ªü r·ªông ƒë·ªÉ xem c·∫£ WARS
        if(!p) return;
        modalTitle.textContent = p.title || p.name;
        
        const bms = getBookmarks();
        const isBookmarked = bms.includes(p.id);
        modalBookmark.innerHTML = isBookmarked ? '‚úì B·ªè l∆∞u' : '‚òÖ L∆∞u';
        modalBookmark.setAttribute('data-id', p.id);
        modalBookmark.setAttribute('aria-pressed', isBookmarked);

        if(p.role) { // ƒê√¢y l√† Profile
             modalBody.innerHTML = `<div style="display:grid;grid-template-columns:1fr; gap:16px; align-items:start">
              <img src="${p.image}" alt="${p.name}" style="width:100%; height: 250px; object-fit: cover; border-radius:8px; margin-bottom: 12px;">
              <div>
                <div class="meta" style="font-size: 1rem;"><strong>Vai tr√≤:</strong> ${p.role}</div>
                <div class.meta" style="font-size: 0.9rem;"><strong>Sinh ‚Äî M·∫•t:</strong> ${p.born || '?'} ‚Äî ${p.died || '?'}</div>
                <p style="margin-top:16px">${p.bio}</p>
              </div>
            </div>`;
        } else { // ƒê√¢y l√† War/Event
            modalBody.innerHTML = `<div style="display:grid;grid-template-columns:1fr; gap:16px; align-items:start">
              <img src="${p.image}" alt="${p.title}" style="width:100%; height: 250px; object-fit: cover; border-radius:8px; margin-bottom: 12px;">
              <div>
                <div class="meta" style="font-size: 1rem;"><strong>Th·ªùi gian:</strong> ${p.year}</div>
                <p class="summary" style="font-weight: 600; font-size: 1.1rem; margin-top: 8px;">${p.summary}</p>
                <p style="margin-top:16px">${p.content}</p>
              </div>
            </div>`;
        }

        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        modal.setAttribute('aria-hidden','false');
        modalClose.focus();
      }
      function closeModal() { modal.style.display='none'; document.body.style.overflow = ''; modal.setAttribute('aria-hidden','true'); }
      modalClose.addEventListener('click', closeModal);

      // Lightbox
      function openLightbox(src){ lightboxImg.src = src; lightbox.style.display = 'flex'; document.body.style.overflow = 'hidden'; lightboxClose.focus(); }
      function closeLightbox() { lightbox.style.display = 'none'; if(modal.style.display !== 'flex') document.body.style.overflow = ''; }
      lightbox.addEventListener('click', (e) => { if(e.target === lightbox) closeLightbox(); });
      lightboxClose.addEventListener('click', closeLightbox);

      // init
      renderWars();
      renderTimeline();
      renderProfiles();
      renderGallery();
      updateBookmarkCount();

      // --- Event Listeners ---
      function applyFilters(){
        const q = searchInput.value;
        const active = Array.from(chips).find(c=> c.classList.contains('active'));
        const tag = active ? active.getAttribute('data-filter') : 'all';
        renderWars(q, tag);
        renderProfiles(q, tag);
      }
      searchInput.addEventListener('input', ()=> applyFilters());
      clearBtn.addEventListener('click', ()=> { searchInput.value=''; applyFilters(); searchInput.focus(); });
      
      // === THAY ƒê·ªîI: Th√™m cu·ªôn trang khi click tab (ƒë√£ c√≥) v√† C·∫≠p nh·∫≠t tag active khi cu·ªôn ===
      chips.forEach(ch=>{
        ch.addEventListener('click', (e)=> {
          e.preventDefault();
          chips.forEach(x=>x.classList.remove('active'));
          ch.classList.add('active');
          applyFilters();

          // Th√™m logic cu·ªôn
          const filter = ch.getAttribute('data-filter');
          let targetId = '';
          switch(filter) {
              case 'war': targetId = '#wars-list'; break;
              case 'hero': targetId = '#profiles'; break;
              case 'event': targetId = '#timeline'; break;
              case 'all': targetId = '#overview'; break;
              default: targetId = '#overview';
          }

          if (targetId) {
              const targetElement = document.querySelector(targetId);
              if (targetElement) {
                  const headerHeight = document.querySelector('.sticky-header')?.offsetHeight || 76;
                  const filterBarHeight = document.querySelector('.sticky-filters-bar')?.offsetHeight || 0;
                  const targetPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                  // T√≠nh to√°n v·ªã tr√≠ cu·ªôn: V·ªã tr√≠ c·ªßa m·ª•c ti√™u - chi·ªÅu cao c·ªßa c·∫£ 2 thanh sticky - 20px ƒë·ªám
                  const offsetPosition = targetPosition - headerHeight - filterBarHeight - 20; 

                  window.scrollTo({
                      top: offsetPosition,
                      behavior: 'smooth'
                  });
              }
          }
        });
      });
      // === K·∫æT TH√öC THAY ƒê·ªîI CU·ªòN TAB ===

      // === B·ªî SUNG: T·ª± ƒë·ªông ƒë·ªïi tag active khi cu·ªôn (Intersection Observer) ===
      function updateActiveTagOnScroll() {
          const sections = [
              { id: 'overview', filter: 'all' },
              { id: 'wars-list', filter: 'war' },
              { id: 'profiles', filter: 'hero' },
              { id: 'timeline', filter: 'event' }
          ];

          const headerHeight = document.querySelector('.sticky-header')?.offsetHeight || 76;
          const filterBarHeight = document.querySelector('.sticky-filters-bar')?.offsetHeight || 0;
          const offset = headerHeight + filterBarHeight + 1; // 1px d∆∞·ªõi thanh filter

          // D√πng Intersection Observer ƒë·ªÉ theo d√µi
          const observerOptions = {
              root: null, // viewport
              rootMargin: `-${offset}px 0px -50% 0px`, // V√πng quan s√°t n·∫±m ngay d∆∞·ªõi thanh sticky
              threshold: 0 // Ngay khi v∆∞·ª£t qua offset
          };

          const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                  if (entry.isIntersecting) {
                      const sectionId = entry.target.id;
                      const activeSection = sections.find(s => s.id === sectionId);
                      
                      if (activeSection) {
                          // L·ªçc v√† b·ªè active t·∫•t c·∫£
                          chips.forEach(c => c.classList.remove('active'));

                          // Th√™m active cho tag t∆∞∆°ng ·ª©ng
                          const targetTag = document.querySelector(`.filters .tag[data-filter="${activeSection.filter}"]`);
                          if (targetTag) {
                              targetTag.classList.add('active');
                          }
                      }
                  }
              });
          }, observerOptions);

          sections.forEach(s => {
              const el = document.getElementById(s.id);
              if (el) observer.observe(el);
          });
      }

      // Kh·ªüi t·∫°o observer sau khi c√°c ph·∫ßn t·ª≠ ƒë√£ render
      window.addEventListener('load', updateActiveTagOnScroll);
      // === K·∫æT TH√öC B·ªî SUNG ===
      
      // Event Delegation for View, Save, Timeline
      document.addEventListener('click', (e)=>{
        const viewBtn = e.target.closest('.btn-view');
        const saveBtn = e.target.closest('.btn-save, #modal-bookmark');
        const timelineChip = e.target.closest('.timeline-chip');

        if(viewBtn) { e.preventDefault(); openProfile(viewBtn.dataset.id); }
        if(timelineChip) { e.preventDefault(); openProfile(timelineChip.dataset.id); }
        
        if(saveBtn) {
          e.preventDefault();
          const id = saveBtn.dataset.id;
          let list = getBookmarks();
          const isBookmarked = list.includes(id);
          
          if(isBookmarked){ list = list.filter(x=>x!==id); }
          else { list.push(id); }
          saveBookmarks(list);
          updateBookmarkCount();
          
          // Update all buttons for this ID
          document.querySelectorAll(`.btn-save[data-id="${id}"], #modal-bookmark[data-id="${id}"]`).forEach(btn => {
              btn.innerHTML = list.includes(id) ? '‚úì ƒê√£ l∆∞u' : '‚òÖ L∆∞u';
              btn.setAttribute('aria-pressed', list.includes(id));
              btn.setAttribute('title', list.includes(id) ? 'B·ªè l∆∞u' : 'L∆∞u');
          });
        }
      });

      // Show bookmarks view
      bookmarkViewBtn.addEventListener('click', ()=>{
        const list = getBookmarks();
        if(list.length === 0){ alert('Ch∆∞a l∆∞u m·ª•c n√†o.'); return; }
        const items = [];
        list.forEach(id=>{
          const w = WARS.find(x=>x.id===id); if(w) items.push(w.title + ' (' + w.year + ')');
          const p = PROFILES.find(x=>x.id===id); if(p) items.push(p.name + ' ‚Äî ' + p.role);
        });
        openProfile(list[0]); // M·ªü m·ª•c ƒë·∫ßu ti√™n ƒë√£ l∆∞u
        alert('M·ª•c ƒë√£ l∆∞u (' + items.length + '):\n' + items.join('\n') + '\n\nƒêang m·ªü m·ª•c ƒë·∫ßu ti√™n: ' + items[0]);
      });

      // Theme toggle
      function applyTheme(theme) {
          htmlEl.setAttribute('data-theme', theme);
          localStorage.setItem('dcl_theme_v6', theme);
          if (themeIconLight && themeIconDark) {
               themeIconLight.classList.toggle('hidden', theme === 'dark');
               themeIconDark.classList.toggle('hidden', theme === 'light');
          }
      }
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const stored = localStorage.getItem('dcl_theme_v6') || (prefersDark ? 'dark' : 'light');
      applyTheme(stored);
      themeToggleBtn.addEventListener('click', ()=>{
        const cur = htmlEl.getAttribute('data-theme') === 'dark' ? 'light':'dark';
        applyTheme(cur);
      });

      // Keyboard: close modal/lightbox with Esc
      document.addEventListener('keydown', (e)=> {
          if(e.key === 'Escape'){
              if (modal.style.display === 'flex') closeModal();
              if (lightbox.style.display === 'flex') closeLightbox();
              if (mobileNavOverlay.style.display === 'flex') closeMobileNav();
          }
      });

     

    })();
  </script>
  <footer>
      <div class="footer-content">
          <div class="footer-column">
              <h4>Gi·ªõi thi·ªáu</h4>
              <p>Trang web "D√≤ng Ch·∫£y L·ªãch S·ª≠" cung c·∫•p th√¥ng tin t√≥m t·∫Øt v·ªÅ l·ªãch s·ª≠ Vi·ªát Nam qua c√°c th·ªùi k·ª≥, ph·ª•c v·ª• m·ª•c ƒë√≠ch tham kh·∫£o v√† h·ªçc t·∫≠p.</p>
          </div>
          <div class="footer-column">
              <h4>Li√™n h·ªá</h4>
              <a href="mailto:info@lichsuviet.vn">Email: info@lichsuviet.vn</a>
              <a href="tel:+84123456789">ƒêi·ªán tho·∫°i: (012) 345-6789</a>
              <p>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng ABC, H√† N·ªôi</p>
          </div>
          <div class="footer-column">
              <h4>H·ªó tr·ª£</h4>
              <a href="faq.html">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a>
              <a href="lienhe.html">G√≥p √Ω n·ªôi dung</a>
              <a href="policy.html">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
          </div>
      </div>
 <div class="wrap"> <div class="footer-copyright">
                 <p class="muted" style="color: red; font-weight: bold; font-size: 20px; text-align: center;">
  üáªüá≥ Ho√†ng Sa, Tr∆∞·ªùng Sa l√† c·ªßa Vi·ªát Nam üáªüá≥
</p>

                        <p class="muted">¬© D√≤ng Ch·∫£y L·ªãch S·ª≠ Vi·ªát . Made by B√πi L√™ H·∫≠u . Th√¥ng tin t·ªïng h·ª£p cho m·ª•c ƒë√≠ch tham kh·∫£o.</p>
                        
                    </div>
                </div>
  </footer>
</body>
</html>